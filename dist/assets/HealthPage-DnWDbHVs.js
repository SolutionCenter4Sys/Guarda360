import{c as z,r as n,P as Ne,Q as ke,V as Ae,W as we,Y as Ee,Z as Ce,j as e,B as P,o as Y,i as De,H as Me,l as D,w as J,n as xe,F as N,X as O,T as me}from"./index-DduWlyHt.js";import{F as Z}from"./FileUpload-CJ1fZ0gc.js";import{t as $,f as y,p as k}from"./pt-BR-Cb6bWWUC.js";import{p as f}from"./parseISO-BYvTlcex.js";import{P as I}from"./plus-B51eporo.js";import{P as K}from"./phone-JWb-0SsZ.js";import{G as R}from"./graduation-cap-Dw2fv_-f.js";import{T as Te}from"./trending-up-CHMA6jmg.js";import{D as oe}from"./download-Cux2d8XB.js";import{C as ce}from"./chart-no-axes-column-CRnerE2m.js";import{U as se}from"./user-h3ZtA02L.js";import{M as ue}from"./map-pin-o5bSKUXy.js";import"./upload-CazXprGT.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=z("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=z("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=z("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=z("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);function Re(a,i){const o=$(a),d=$(i);return o.getTime()>d.getTime()}function Le(a,i){const o=$(a),d=$(i);return+o<+d}const _={BIMESTRE_1:"1Âº Bimestre",BIMESTRE_2:"2Âº Bimestre",BIMESTRE_3:"3Âº Bimestre",BIMESTRE_4:"4Âº Bimestre",TRIMESTRE_1:"1Âº Trimestre",TRIMESTRE_2:"2Âº Trimestre",TRIMESTRE_3:"3Âº Trimestre",SEMESTRE_1:"1Âº Semestre",SEMESTRE_2:"2Âº Semestre",ANUAL:"Anual"};function Be(a,i){const o=n.useMemo(()=>Ne.filter(l=>l.childId===a),[a]),d=n.useMemo(()=>ke.filter(l=>l.childId===a),[a]),c=n.useMemo(()=>Ae.filter(l=>l.childId===a),[a]),u=n.useMemo(()=>we.filter(l=>l.childId===a),[a]),j=n.useMemo(()=>Ee.filter(l=>l.childId===a),[a]),h=n.useMemo(()=>Ce.filter(l=>l.childId===a),[a]),A=n.useMemo(()=>o.filter(l=>l.status==="AGENDADO"&&Re(f(l.scheduledAt),new Date)).sort((l,t)=>new Date(l.scheduledAt).getTime()-new Date(t.scheduledAt).getTime()),[o]),b=n.useMemo(()=>o.filter(l=>l.status!=="AGENDADO"||Le(f(l.scheduledAt),new Date)).sort((l,t)=>new Date(t.scheduledAt).getTime()-new Date(l.scheduledAt).getTime()),[o]),p=n.useMemo(()=>d.filter(l=>l.status==="EM_DIA").length,[d]),w=n.useMemo(()=>d.filter(l=>l.status!=="EM_DIA").length,[d]),m=n.useMemo(()=>h.filter(l=>!l.isRead).length,[h]),M=n.useMemo(()=>{const l=[];return o.forEach(t=>l.push({id:t.id,type:"CONSULTA",title:t.title,subtitle:[t.doctor,t.location].filter(Boolean).join(" Â· "),date:t.scheduledAt,color:"var(--color-primary)"})),d.filter(t=>t.appliedAt).forEach(t=>l.push({id:t.id,type:"VACINA",title:t.name,subtitle:`Dose ${t.doseNumber}/${t.totalDoses}`,date:t.appliedAt,color:"var(--color-confirmado)"})),c.forEach(t=>l.push({id:t.id,type:"DOCUMENTO",title:t.title,subtitle:t.description??"",date:t.uploadedAt,color:"var(--color-pendente)"})),j.forEach(t=>l.push({id:t.id,type:"BOLETIM",title:`Boletim ${_[t.period]} ${t.year}`,subtitle:t.school,date:t.uploadedAt,color:"#7c3aed"})),l.filter(t=>i==="ALL"||t.type===i).sort((t,T)=>new Date(T.date).getTime()-new Date(t.date).getTime())},[o,d,c,j,i]),F=n.useMemo(()=>j.filter(l=>{var t;return(t=l.grades)==null?void 0:t.length}).sort((l,t)=>l.year!==t.year?l.year-t.year:l.period.localeCompare(t.period)).map(l=>({label:`${_[l.period].split(" ")[1]??_[l.period]} ${l.year}`,avg:+(l.grades.reduce((t,T)=>t+T.grade/T.maxGrade*10,0)/l.grades.length).toFixed(1)})),[j]);return{childAppts:o,childVaccines:d,childDocs:c,childContacts:u,childReports:j,childComms:h,upcoming:A,past:b,vacEmDia:p,vacPend:w,unreadComms:m,healthTimeline:M,gradeEvolution:F}}const Pe={enabled:!0,days:1,email:!0,push:!0,sms:!1,types:{CONSULTA:!0,EXAME:!0,VACINA:!0,EMERGENCIA:!1,OUTRO:!1}};function Fe(){const[a,i]=n.useState(!1),[o,d]=n.useState(Pe);return{showReminderPanel:a,setShowReminderPanel:i,settings:o,updateField:(h,A)=>d(b=>({...b,[h]:A})),toggleType:(h,A)=>d(b=>({...b,types:{...b.types,[h]:A}})),getSummaryText:()=>{const h=[o.push&&"Push",o.email&&"E-mail",o.sms&&"SMS"].filter(Boolean).join(", ");return`${o.days} dia(s) antes, via ${h||"nenhum canal"}`}}}const Ue=[1,2,3,7],_e=[{key:"push",label:"ðŸ”” Push"},{key:"email",label:"ðŸ“§ E-mail"},{key:"sms",label:"ðŸ“± SMS"}],ie={CONSULTA:"Consulta",EXAME:"Exame",VACINA:"Vacina",EMERGENCIA:"EmergÃªncia",OUTRO:"Outro"};function $e({checked:a,onChange:i}){return e.jsx("div",{onClick:i,className:"relative w-10 h-5 rounded-full cursor-pointer transition-all",style:{background:a?"var(--color-primary)":"var(--color-border)"},role:"switch","aria-checked":a,tabIndex:0,onKeyDown:o=>{(o.key===" "||o.key==="Enter")&&i()},children:e.jsx("div",{className:"absolute top-0.5 w-4 h-4 bg-white rounded-full shadow transition-all",style:{left:a?"22px":"2px"}})})}function Ve({settings:a,onUpdateField:i,onToggleType:o,onSave:d}){return e.jsxs("div",{className:"card p-4 space-y-4 fade-in",style:{border:"1.5px solid rgba(29,78,216,0.2)",background:"rgba(29,78,216,0.03)"},role:"region","aria-label":"ConfiguraÃ§Ã£o de lembretes de consultas",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{size:16,style:{color:"var(--color-primary)"},"aria-hidden":"true"}),e.jsx("p",{className:"text-sm font-bold",style:{color:"var(--color-text-primary)"},children:"ConfiguraÃ§Ã£o de Lembretes"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("span",{className:"text-xs font-semibold",style:{color:"var(--color-text-secondary)"},children:"Ativar"}),e.jsx($e,{checked:a.enabled,onChange:()=>i("enabled",!a.enabled)})]})]}),a.enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("fieldset",{children:[e.jsx("legend",{className:"text-xs font-semibold mb-2",style:{color:"var(--color-text-secondary)"},children:"Avisar com antecedÃªncia de:"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:Ue.map(c=>e.jsx("button",{type:"button",onClick:()=>i("days",c),className:"text-xs font-bold px-3 py-1.5 rounded-full transition-all",style:{background:a.days===c?"var(--color-primary)":"var(--color-border)",color:a.days===c?"#fff":"var(--color-text-secondary)"},"aria-pressed":a.days===c,children:c===1?"1 dia":`${c} dias`},c))})]}),e.jsxs("fieldset",{children:[e.jsx("legend",{className:"text-xs font-semibold mb-2",style:{color:"var(--color-text-secondary)"},children:"Canais de notificaÃ§Ã£o:"}),e.jsx("div",{className:"flex gap-4 flex-wrap",children:_e.map(c=>e.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a[c.key],onChange:u=>i(c.key,u.target.checked),className:"rounded","aria-label":c.label}),e.jsx("span",{className:"text-xs font-medium",style:{color:"var(--color-text-secondary)"},children:c.label})]},c.key))})]}),e.jsxs("fieldset",{children:[e.jsx("legend",{className:"text-xs font-semibold mb-2",style:{color:"var(--color-text-secondary)"},children:"Notificar para:"}),e.jsx("div",{className:"flex gap-3 flex-wrap",children:Object.entries(a.types).map(([c,u])=>e.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:j=>o(c,j.target.checked),className:"rounded","aria-label":ie[c]}),e.jsx("span",{className:"text-xs font-medium",style:{color:"var(--color-text-secondary)"},children:ie[c]})]},c))})]}),e.jsxs("button",{type:"button",onClick:d,className:"btn-gradient w-full flex items-center justify-center gap-2 text-sm",children:[e.jsx(P,{size:14,"aria-hidden":"true"}),"Salvar configuraÃ§Ã£o de lembretes"]})]})]})}const Q=_,Ge={REUNIAO:{label:"ReuniÃ£o",color:"#7c3aed",icon:e.jsx(se,{size:13})},CIRCULAR:{label:"Circular",color:"#0ea5e9",icon:e.jsx(N,{size:13})},AVISO:{label:"Aviso",color:"#f59e0b",icon:e.jsx(P,{size:13})},EVENTO:{label:"Evento",color:"#059669",icon:e.jsx(D,{size:13})},OUTRO:{label:"Outro",color:"#6b7280",icon:e.jsx(Ie,{size:13})}},L=(a,i)=>{const o=a/i;return o>=.9?"var(--color-confirmado)":o>=.7?"var(--color-pendente)":"var(--color-cancelado)"},He={CONSULTA:"Consulta",EXAME:"Exame",VACINA:"Vacina",EMERGENCIA:"EmergÃªncia",OUTRO:"Outro"},qe={CONSULTA:e.jsx(ee,{size:14,"aria-hidden":"true"}),EXAME:e.jsx(N,{size:14,"aria-hidden":"true"}),VACINA:e.jsx(B,{size:14,"aria-hidden":"true"}),EMERGENCIA:e.jsx(me,{size:14,"aria-hidden":"true"}),OUTRO:e.jsx(D,{size:14,"aria-hidden":"true"})},W={ATESTADO:"Atestado",RECEITA:"Receita",EXAME:"Exame",BOLETIM:"Boletim",COMUNICADO:"Comunicado",OUTRO:"Outro"},g={ATESTADO:"var(--color-cancelado)",RECEITA:"var(--color-primary)",EXAME:"var(--color-pendente)",BOLETIM:"var(--color-confirmado)",COMUNICADO:"var(--color-guardian-shared)",OUTRO:"var(--color-text-tertiary)"};function ne({vac:a}){const o={EM_DIA:{bg:"var(--color-confirmado-bg)",text:"var(--color-confirmado)",icon:e.jsx(J,{size:12})},ATRASADA:{bg:"var(--color-cancelado-bg)",text:"var(--color-cancelado)",icon:e.jsx(me,{size:12})},PENDENTE:{bg:"var(--color-pendente-bg)",text:"var(--color-pendente)",icon:e.jsx(xe,{size:12})}}[a.status];return e.jsxs("div",{className:"p-3 rounded-xl",style:{background:o.bg,border:`1px solid color-mix(in srgb, ${o.text} 25%, transparent)`},children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsx("p",{className:"text-sm font-bold",style:{color:o.text},children:a.name}),e.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-semibold flex-shrink-0",style:{background:o.text,color:"#fff"},children:[o.icon,a.status==="EM_DIA"?"Em dia":a.status==="ATRASADA"?"Atrasada":"Pendente"]})]}),e.jsxs("p",{className:"text-xs",style:{color:"var(--color-text-tertiary)"},children:["Dose ",a.doseNumber,"/",a.totalDoses,a.appliedAt&&` Â· Aplicada: ${y(f(a.appliedAt),"dd/MM/yyyy",{locale:k})}`,a.nextDoseAt&&` Â· PrÃ³xima: ${y(f(a.nextDoseAt),"dd/MM/yyyy",{locale:k})}`]})]})}function de({appt:a,onOpen:i}){const o=isBefore(f(a.scheduledAt),new Date),d=a.status==="REALIZADO"?"var(--color-confirmado)":a.status==="CANCELADO"?"var(--color-cancelado)":"var(--color-pendente)",c=a.status==="REALIZADO"?"var(--color-confirmado-bg)":a.status==="CANCELADO"?"var(--color-cancelado-bg)":"var(--color-pendente-bg)";return e.jsxs("div",{className:"p-3.5 rounded-xl cursor-pointer transition-all",style:{background:"var(--color-surface-alt)",border:"1px solid var(--color-border)",borderLeft:`4px solid ${d}`,opacity:a.status==="CANCELADO"?.7:1},onClick:()=>i(a),role:"button",tabIndex:0,onKeyDown:u=>{u.key==="Enter"&&i(a)},"aria-label":a.title,children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{style:{color:d},children:qe[a.type]}),e.jsx("p",{className:"text-sm font-bold",style:{color:"var(--color-text-primary)"},children:a.title})]}),e.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full flex-shrink-0",style:{background:c,color:d},children:a.status==="AGENDADO"?"Agendado":a.status==="REALIZADO"?"Realizado":"Cancelado"})]}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(D,{size:12,style:{color:"var(--color-text-tertiary)"},"aria-hidden":"true"}),e.jsxs("span",{className:"text-xs",style:{color:o&&a.status==="AGENDADO"?"var(--color-cancelado)":"var(--color-text-tertiary)"},children:[y(f(a.scheduledAt),"dd/MM/yyyy 'Ã s' HH:mm",{locale:k}),o&&a.status==="AGENDADO"&&" â€” Vencida!"]})]}),a.doctor&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(se,{size:12,style:{color:"var(--color-text-tertiary)"},"aria-hidden":"true"}),e.jsx("span",{className:"text-xs",style:{color:"var(--color-text-tertiary)"},children:a.doctor})]}),a.location&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(ue,{size:12,style:{color:"var(--color-text-tertiary)"},"aria-hidden":"true"}),e.jsx("span",{className:"text-xs truncate",style:{color:"var(--color-text-tertiary)"},children:a.location})]})]})]})}function os(){const[a,i]=n.useState("agenda"),[o,d]=n.useState(Y[0].id),[c,u]=n.useState(!1),[j,h]=n.useState(!1),[A,b]=n.useState(!1),[p,w]=n.useState(null),[m,M]=n.useState(null),[F,l]=n.useState(!0),[t,T]=n.useState("ALL"),{toast:v}=De(),{childAppts:he,childVaccines:E,childDocs:V,childContacts:ae,childReports:le,childComms:te,upcoming:G,past:H,vacEmDia:pe,vacPend:fe,unreadComms:q,healthTimeline:U,gradeEvolution:X}=Be(o,t),{showReminderPanel:S,setShowReminderPanel:re,settings:be,updateField:ye,toggleType:je}=Fe(),ve=[{id:"agenda",label:"Agenda",icon:e.jsx(D,{size:15})},{id:"vacinas",label:"Vacinas",icon:e.jsx(B,{size:15})},{id:"documentos",label:"Documentos",icon:e.jsx(N,{size:15})},{id:"boletins",label:"Escola",icon:e.jsx(R,{size:15}),badge:q},{id:"historico",label:"HistÃ³rico",icon:e.jsx(ce,{size:15})},{id:"contatos",label:"Contatos",icon:e.jsx(K,{size:15})}];return e.jsxs("div",{className:"max-w-5xl mx-auto space-y-4",children:[e.jsxs("div",{className:"rounded-2xl overflow-hidden",style:{background:"linear-gradient(135deg, #059669 0%, #0ea5e9 100%)",boxShadow:"0 6px 24px rgba(5,150,105,0.28)"},children:[e.jsxs("div",{className:"flex items-center justify-between px-5 pt-4 pb-3 flex-wrap gap-3",style:{borderBottom:"1px solid rgba(255,255,255,0.12)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:"rgba(255,255,255,0.2)"},"aria-hidden":"true",children:e.jsx(Me,{size:20,color:"#fff"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-extrabold text-white leading-tight",children:"SaÃºde & Escola"}),e.jsx("p",{className:"text-xs",style:{color:"rgba(255,255,255,0.7)"},children:"HistÃ³rico mÃ©dico e escolar compartilhado"})]})]}),e.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:Y.map(s=>e.jsx("button",{onClick:()=>d(s.id),className:"px-3 py-1.5 rounded-full text-sm font-semibold transition-all",style:{background:s.id===o?"rgba(255,255,255,0.22)":"rgba(255,255,255,0.08)",color:"#fff",border:s.id===o?"1.5px solid rgba(255,255,255,0.5)":"1.5px solid transparent"},role:"tab","aria-selected":s.id===o,children:s.fullName.split(" ")[0]},s.id))})]}),e.jsx("div",{className:"grid grid-cols-4 gap-px px-5 py-4 text-white",children:[{icon:e.jsx(D,{size:15}),label:"PrÃ³ximas consultas",value:G.length},{icon:e.jsx(J,{size:15}),label:"Realizadas",value:H.filter(s=>s.status==="REALIZADO").length},{icon:e.jsx(B,{size:15}),label:"Vacinas em dia",value:pe},{icon:e.jsx(P,{size:15}),label:"Vacinas pendentes",value:fe}].map(s=>e.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[e.jsx("div",{style:{color:"rgba(255,255,255,0.7)"},children:s.icon}),e.jsx("p",{className:"text-2xl font-extrabold leading-none",children:s.value}),e.jsx("p",{className:"text-xs font-medium",style:{color:"rgba(255,255,255,0.65)"},children:s.label})]},s.label))})]}),e.jsx("div",{className:"flex gap-1 p-1 rounded-xl overflow-x-auto",style:{background:"var(--color-surface-alt)",border:"1px solid var(--color-border)"},children:ve.map(s=>e.jsxs("button",{onClick:()=>i(s.id),className:"flex-1 flex items-center justify-center gap-1 py-2 px-2 rounded-lg text-sm font-semibold transition-all relative min-w-[56px]",style:{background:a===s.id?"var(--color-surface)":"transparent",color:a===s.id?"var(--color-primary)":"var(--color-text-tertiary)",boxShadow:a===s.id?"var(--shadow-soft)":"none"},role:"tab","aria-selected":a===s.id,children:[s.icon,e.jsx("span",{className:"hidden sm:inline",children:s.label}),s.badge!=null&&s.badge>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 rounded-full text-white flex items-center justify-center font-bold",style:{background:"var(--color-cancelado)",fontSize:"10px"},children:s.badge})]},s.id))}),a==="agenda"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[e.jsx("h3",{className:"text-base font-bold",style:{color:"var(--color-text-primary)"},children:"Agenda MÃ©dica"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>re(s=>!s),className:"flex items-center gap-1.5 text-sm font-semibold px-3 py-1.5 rounded-xl transition-all",style:{background:S?"rgba(29,78,216,0.12)":"var(--color-surface-alt)",color:S?"var(--color-primary)":"var(--color-text-secondary)",border:`1px solid ${S?"rgba(29,78,216,0.3)":"var(--color-border)"}`},"aria-pressed":S,children:[e.jsx(P,{size:14,"aria-hidden":"true"}),"Lembretes"]}),e.jsxs("button",{onClick:()=>u(!0),className:"btn-gradient flex items-center gap-2 text-sm",children:[e.jsx(I,{size:14,"aria-hidden":"true"}),"Agendar consulta"]})]})]}),S&&e.jsx(Ve,{settings:be,onUpdateField:ye,onToggleType:je,onSave:()=>{v("Lembretes configurados com sucesso!","success"),re(!1)}}),G.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold uppercase tracking-widest mb-2",style:{color:"var(--color-text-tertiary)"},children:"PrÃ³ximas"}),e.jsx("div",{className:"space-y-2",children:G.map(s=>e.jsx(de,{appt:s,onOpen:w},s.id))})]}),H.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold uppercase tracking-widest mb-2",style:{color:"var(--color-text-tertiary)"},children:"HistÃ³rico"}),e.jsx("div",{className:"space-y-2",children:H.map(s=>e.jsx(de,{appt:s,onOpen:w},s.id))})]}),he.length===0&&e.jsxs("div",{className:"rounded-2xl p-8 text-center",style:{background:"var(--color-surface-alt)",border:"1px dashed var(--color-border-dark)"},children:[e.jsx(D,{size:32,className:"mx-auto mb-3",style:{color:"var(--color-text-tertiary)"},"aria-hidden":"true"}),e.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--color-text-tertiary)"},children:"Nenhuma consulta registrada"}),e.jsx("button",{onClick:()=>u(!0),className:"mt-3 text-sm font-bold",style:{color:"var(--color-primary)"},children:"+ Agendar primeira consulta"})]})]}),a==="vacinas"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-base font-bold",style:{color:"var(--color-text-primary)"},children:"Carteira de VacinaÃ§Ã£o"}),e.jsxs("button",{onClick:()=>v("Adicionar vacina em breve!","info"),className:"btn-secondary flex items-center gap-1.5 text-sm",children:[e.jsx(I,{size:14,"aria-hidden":"true"}),"Adicionar"]})]}),E.filter(s=>s.status==="EM_DIA").length>0&&e.jsxs("div",{children:[e.jsxs("button",{className:"flex items-center gap-2 w-full mb-2",onClick:()=>l(s=>!s),children:[e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold",style:{background:"var(--color-confirmado-bg)",color:"var(--color-confirmado)"},children:[e.jsx(J,{size:11,"aria-hidden":"true"}),E.filter(s=>s.status==="EM_DIA").length," Em dia"]}),F?e.jsx(Oe,{size:14,style:{color:"var(--color-text-tertiary)"}}):e.jsx(Se,{size:14,style:{color:"var(--color-text-tertiary)"}})]}),F&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:E.filter(s=>s.status==="EM_DIA").map(s=>e.jsx(ne,{vac:s},s.id))})]}),E.filter(s=>s.status!=="EM_DIA").length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold mb-2 w-fit",style:{background:"var(--color-pendente-bg)",color:"var(--color-pendente)"},children:[e.jsx(xe,{size:11,"aria-hidden":"true"}),E.filter(s=>s.status!=="EM_DIA").length," Pendente(s)"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:E.filter(s=>s.status!=="EM_DIA").map(s=>e.jsx(ne,{vac:s},s.id))})]}),E.length===0&&e.jsxs("div",{className:"rounded-2xl p-8 text-center",style:{background:"var(--color-surface-alt)",border:"1px dashed var(--color-border-dark)"},children:[e.jsx(B,{size:32,className:"mx-auto mb-3",style:{color:"var(--color-text-tertiary)"},"aria-hidden":"true"}),e.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--color-text-tertiary)"},children:"Nenhuma vacina registrada"})]})]}),a==="documentos"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-base font-bold",style:{color:"var(--color-text-primary)"},children:"Atestados & Documentos"}),e.jsxs("button",{onClick:()=>h(!0),className:"btn-gradient flex items-center gap-2 text-sm",children:[e.jsx(I,{size:14,"aria-hidden":"true"}),"Adicionar"]})]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:["ATESTADO","RECEITA","EXAME","BOLETIM","COMUNICADO"].map(s=>e.jsxs("span",{className:"px-2.5 py-1 rounded-full text-xs font-semibold cursor-pointer",style:{background:`color-mix(in srgb, ${g[s]} 12%, transparent)`,color:g[s],border:`1px solid color-mix(in srgb, ${g[s]} 25%, transparent)`},children:[W[s]," (",V.filter(r=>r.type===s).length,")"]},s))}),V.length===0?e.jsxs("div",{className:"rounded-2xl p-8 text-center",style:{background:"var(--color-surface-alt)",border:"1px dashed var(--color-border-dark)"},children:[e.jsx(N,{size:32,className:"mx-auto mb-3",style:{color:"var(--color-text-tertiary)"},"aria-hidden":"true"}),e.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--color-text-tertiary)"},children:"Nenhum documento cadastrado"})]}):e.jsx("div",{className:"space-y-2",children:V.map(s=>e.jsxs("div",{className:"flex items-start gap-3 p-3.5 rounded-xl transition-all",style:{background:"var(--color-surface-alt)",border:"1px solid var(--color-border)",borderLeft:`4px solid ${g[s.type]}`},children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:`color-mix(in srgb, ${g[s.type]} 12%, transparent)`,color:g[s.type]},"aria-hidden":"true",children:e.jsx(N,{size:18})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("p",{className:"text-sm font-bold",style:{color:"var(--color-text-primary)"},children:s.title}),e.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full flex-shrink-0",style:{background:`color-mix(in srgb, ${g[s.type]} 12%, transparent)`,color:g[s.type]},children:W[s.type]})]}),s.description&&e.jsx("p",{className:"text-xs mt-0.5",style:{color:"var(--color-text-secondary)"},children:s.description}),e.jsxs("div",{className:"flex items-center gap-3 mt-1.5 flex-wrap",children:[e.jsx("span",{className:"text-xs",style:{color:"var(--color-text-tertiary)"},children:y(f(s.uploadedAt),"dd/MM/yyyy",{locale:k})}),e.jsxs("code",{className:"text-xs px-1.5 py-0.5 rounded font-mono",style:{background:"var(--color-surface)",color:"var(--color-text-tertiary)"},children:[s.hash.slice(0,18),"â€¦"]}),e.jsx("a",{href:s.fileUrl,onClick:r=>{r.preventDefault(),v("Download do arquivo iniciado!","success")},className:"text-xs font-semibold",style:{color:"var(--color-primary)"},children:"Baixar"})]})]})]},s.id))})]}),a==="contatos"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-base font-bold",style:{color:"var(--color-text-primary)"},children:"Contatos de EmergÃªncia"}),e.jsxs("button",{onClick:()=>v("Funcionalidade de adicionar contato em breve!","info"),className:"btn-secondary flex items-center gap-1.5 text-sm",children:[e.jsx(I,{size:14,"aria-hidden":"true"}),"Adicionar"]})]}),ae.length===0?e.jsxs("div",{className:"rounded-2xl p-8 text-center",style:{background:"var(--color-surface-alt)",border:"1px dashed var(--color-border-dark)"},children:[e.jsx(K,{size:32,className:"mx-auto mb-3",style:{color:"var(--color-text-tertiary)"},"aria-hidden":"true"}),e.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--color-text-tertiary)"},children:"Nenhum contato cadastrado"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:ae.map(s=>e.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl",style:{background:"var(--color-surface-alt)",border:"1px solid var(--color-border)"},children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center flex-shrink-0",style:{background:"linear-gradient(135deg, #059669, #0ea5e9)"},"aria-hidden":"true",children:e.jsx("span",{className:"text-white font-bold text-lg",children:s.name.charAt(0)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-bold truncate",style:{color:"var(--color-text-primary)"},children:s.name}),e.jsxs("p",{className:"text-xs",style:{color:"var(--color-text-tertiary)"},children:[s.role," Â· ",s.relationship]}),e.jsxs("a",{href:`tel:${s.phone}`,className:"text-sm font-semibold mt-1 flex items-center gap-1",style:{color:"var(--color-primary)"},children:[e.jsx(K,{size:12,"aria-hidden":"true"}),s.phone]})]})]},s.id))}),e.jsxs("div",{className:"p-3 rounded-xl flex items-start gap-2.5",style:{background:"rgba(5,150,105,0.08)",border:"1px solid rgba(5,150,105,0.2)"},children:[e.jsx(ze,{size:15,style:{color:"#059669",flexShrink:0,marginTop:1},"aria-hidden":"true"}),e.jsx("p",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"Ambos os responsÃ¡veis tÃªm acesso a estes contatos de emergÃªncia. Em caso de urgÃªncia, qualquer guardiÃ£o pode acionar os profissionais cadastrados."})]})]}),a==="boletins"&&e.jsxs("div",{className:"space-y-5",children:[te.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("h3",{className:"text-base font-bold",style:{color:"var(--color-text-primary)"},children:["Comunicados da Escola",q>0&&e.jsxs("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs font-bold text-white",style:{background:"var(--color-cancelado)"},children:[q," novo(s)"]})]})}),e.jsx("div",{className:"space-y-2",children:te.map(s=>{const r=Ge[s.type];return e.jsxs("div",{className:"flex items-start gap-3 p-3.5 rounded-xl",style:{background:"var(--color-surface-alt)",border:"1px solid var(--color-border)",borderLeft:`4px solid ${r.color}`,opacity:s.isRead?.8:1},children:[e.jsx("div",{className:"w-9 h-9 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:`${r.color}18`,color:r.color},"aria-hidden":"true",children:r.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("p",{className:"text-sm font-bold",style:{color:"var(--color-text-primary)"},children:s.title}),e.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold flex-shrink-0",style:{background:`${r.color}18`,color:r.color},children:r.label})]}),e.jsx("p",{className:"text-xs mt-0.5 line-clamp-2",style:{color:"var(--color-text-secondary)"},children:s.content}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 flex-wrap",children:[e.jsx("span",{className:"text-xs",style:{color:"var(--color-text-tertiary)"},children:y(f(s.uploadedAt),"dd/MM/yyyy",{locale:k})}),s.eventDate&&e.jsxs("span",{className:"text-xs font-semibold",style:{color:r.color},children:["ðŸ“… ",y(f(s.eventDate),"dd/MM 'Ã s' HH'h'",{locale:k})]}),!s.isRead&&e.jsx("span",{className:"text-xs font-bold",style:{color:"var(--color-cancelado)"},children:"â— Novo"})]})]})]},s.id)})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-base font-bold",style:{color:"var(--color-text-primary)"},children:"Boletins Escolares"}),e.jsxs("button",{onClick:()=>b(!0),className:"btn-gradient flex items-center gap-2 text-sm",children:[e.jsx(I,{size:14,"aria-hidden":"true"}),"Adicionar boletim"]})]}),le.length===0?e.jsxs("div",{className:"rounded-2xl p-8 text-center",style:{background:"var(--color-surface-alt)",border:"1px dashed var(--color-border-dark)"},children:[e.jsx(R,{size:32,className:"mx-auto mb-3",style:{color:"var(--color-text-tertiary)"}}),e.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--color-text-tertiary)"},children:"Nenhum boletim cadastrado"})]}):e.jsxs("div",{className:"space-y-3",children:[X.length>=2&&e.jsxs("div",{className:"card p-4",style:{boxShadow:"var(--shadow-soft)"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Te,{size:16,style:{color:"var(--color-confirmado)"}}),e.jsx("h4",{className:"text-sm font-bold",style:{color:"var(--color-text-primary)"},children:"EvoluÃ§Ã£o das notas"})]}),e.jsx("div",{className:"flex items-end gap-2",style:{height:80},children:X.map((s,r)=>{const x=Math.round(s.avg/10*72),C=r===X.length-1;return e.jsxs("div",{className:"flex flex-col items-center gap-1 flex-1 min-w-0",children:[e.jsx("span",{className:"text-xs font-bold",style:{color:C?"var(--color-primary)":"var(--color-text-tertiary)",fontSize:10},children:s.avg}),e.jsx("div",{className:"w-full rounded-t",style:{height:x,background:C?"var(--foursys-gradient)":L(s.avg,10),opacity:.85}}),e.jsx("span",{className:"text-xs text-center truncate w-full",style:{color:"var(--color-text-tertiary)",fontSize:9},children:s.label})]},r)})})]}),le.map(s=>{const r=s.grades?+(s.grades.reduce((x,C)=>x+C.grade/C.maxGrade*10,0)/s.grades.length).toFixed(1):null;return e.jsx("div",{className:"card p-4 cursor-pointer transition-all card-hover",style:{borderLeft:`4px solid ${r!=null?L(r,10):"var(--color-border-dark)"}`},onClick:()=>M(s),role:"button",tabIndex:0,onKeyDown:x=>{x.key==="Enter"&&M(s)},children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:"rgba(124,58,237,0.1)",color:"#7c3aed"},"aria-hidden":"true",children:e.jsx(R,{size:18})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-bold",style:{color:"var(--color-text-primary)"},children:[Q[s.period]," Â· ",s.year]}),e.jsxs("p",{className:"text-xs",style:{color:"var(--color-text-tertiary)"},children:[s.school," Â· ",s.schoolGrade]}),s.notes&&e.jsx("p",{className:"text-xs mt-0.5 line-clamp-1",style:{color:"var(--color-text-secondary)"},children:s.notes})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[r!=null&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-xl font-extrabold",style:{color:L(r,10)},children:r}),e.jsx("p",{className:"text-xs",style:{color:"var(--color-text-tertiary)"},children:"mÃ©dia"})]}),e.jsxs("a",{href:s.fileUrl,onClick:x=>{x.preventDefault(),x.stopPropagation(),v("Download iniciado!","success")},className:"text-xs font-semibold flex items-center gap-1 mt-1",style:{color:"var(--color-primary)"},children:[e.jsx(oe,{size:11}),"PDF"]})]})]})},s.id)})]})]})]}),a==="historico"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[e.jsx("h3",{className:"text-base font-bold",style:{color:"var(--color-text-primary)"},children:"HistÃ³rico de SaÃºde Unificado"}),e.jsxs("p",{className:"text-xs",style:{color:"var(--color-text-tertiary)"},children:[U.length," evento(s)"]})]}),e.jsx("div",{className:"flex gap-1.5 flex-wrap",children:[["ALL","Todos","var(--color-primary)"],["CONSULTA","ðŸ©º Consultas","var(--color-primary)"],["VACINA","ðŸ’‰ Vacinas","var(--color-confirmado)"],["DOCUMENTO","ðŸ“„ Documentos","var(--color-pendente)"],["BOLETIM","ðŸ“š Boletins","#7c3aed"]].map(([s,r,x])=>e.jsx("button",{onClick:()=>T(s),className:"px-3 py-1 rounded-full text-xs font-semibold transition-all",style:{background:t===s?x:"var(--color-surface-alt)",color:t===s?"#fff":"var(--color-text-secondary)",border:`1px solid ${t===s?x:"var(--color-border)"}`},"aria-pressed":t===s,children:r},s))}),U.length===0?e.jsxs("div",{className:"rounded-2xl p-8 text-center",style:{background:"var(--color-surface-alt)",border:"1px dashed var(--color-border-dark)"},children:[e.jsx(ce,{size:32,className:"mx-auto mb-3",style:{color:"var(--color-text-tertiary)"}}),e.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--color-text-tertiary)"},children:"Nenhum evento nesta categoria"})]}):e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-[19px] top-0 bottom-0 w-0.5",style:{background:"var(--color-border)"},"aria-hidden":"true"}),e.jsx("div",{className:"space-y-3 pl-10",children:U.map((s,r)=>{const x=U[r-1],C=!x||y(f(s.date),"yyyy")!==y(f(x.date),"yyyy"),ge={CONSULTA:e.jsx(ee,{size:14}),VACINA:e.jsx(B,{size:14}),DOCUMENTO:e.jsx(N,{size:14}),BOLETIM:e.jsx(R,{size:14})};return e.jsxs("div",{children:[C&&e.jsxs("div",{className:"flex items-center gap-2 mb-3 -ml-10",children:[e.jsx("div",{className:"flex-1 h-px",style:{background:"var(--color-border)"}}),e.jsx("span",{className:"text-xs font-bold px-2",style:{color:"var(--color-text-tertiary)"},children:y(f(s.date),"yyyy")}),e.jsx("div",{className:"flex-1 h-px",style:{background:"var(--color-border)"}})]}),e.jsxs("div",{className:"relative flex items-start gap-3",children:[e.jsx("div",{className:"absolute -left-10 w-9 h-9 rounded-full flex items-center justify-center text-white flex-shrink-0",style:{background:s.color,top:0},"aria-hidden":"true",children:ge[s.type]}),e.jsxs("div",{className:"flex-1 p-3 rounded-xl",style:{background:"var(--color-surface-alt)",border:"1px solid var(--color-border)",borderLeft:`3px solid ${s.color}`},children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("p",{className:"text-sm font-bold",style:{color:"var(--color-text-primary)"},children:s.title}),e.jsx("time",{className:"text-xs flex-shrink-0 font-mono",style:{color:"var(--color-text-tertiary)"},children:y(f(s.date),"dd/MM/yyyy",{locale:k})})]}),s.subtitle&&e.jsx("p",{className:"text-xs mt-0.5",style:{color:"var(--color-text-secondary)"},children:s.subtitle})]})]})]},s.id)})})]})]}),A&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 fade-in",style:{zIndex:"var(--z-modal)",background:"rgba(0,0,0,0.5)",backdropFilter:"blur(4px)"},role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"w-full max-w-md rounded-2xl overflow-hidden",style:{boxShadow:"0 24px 64px rgba(0,0,0,0.25)"},children:[e.jsxs("div",{className:"p-5 flex items-center justify-between",style:{background:"linear-gradient(135deg, #7c3aed, #0ea5e9)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:"rgba(255,255,255,0.2)"},"aria-hidden":"true",children:e.jsx(R,{size:20,color:"#fff"})}),e.jsx("h3",{className:"text-lg font-bold text-white",children:"Adicionar Boletim"})]}),e.jsx("button",{onClick:()=>b(!1),className:"w-8 h-8 rounded-full flex items-center justify-center",style:{background:"rgba(255,255,255,0.2)",color:"#fff"},"aria-label":"Fechar",children:e.jsx(O,{size:16})})]}),e.jsx("div",{className:"p-5 max-h-[80vh] overflow-y-auto",style:{background:"var(--color-surface)"},children:e.jsxs("form",{onSubmit:s=>{s.preventDefault(),b(!1),v("Boletim adicionado! Ambos os guardiÃµes foram notificados.","success")},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1.5",style:{color:"var(--color-text-secondary)"},children:"PerÃ­odo *"}),e.jsx("select",{className:"input-field",children:Object.entries(Q).map(([s,r])=>e.jsx("option",{value:s,children:r},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1.5",style:{color:"var(--color-text-secondary)"},children:"Ano *"}),e.jsx("input",{type:"number",className:"input-field",defaultValue:new Date().getFullYear(),min:2020,max:2030,required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1.5",style:{color:"var(--color-text-secondary)"},children:"Escola"}),e.jsx("input",{type:"text",className:"input-field",placeholder:"Nome da escola"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1.5",style:{color:"var(--color-text-secondary)"},children:"SÃ©rie / Turma"}),e.jsx("input",{type:"text",className:"input-field",placeholder:"Ex: 5Âº Ano A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1.5",style:{color:"var(--color-text-secondary)"},children:"ObservaÃ§Ãµes"}),e.jsx("textarea",{className:"input-field resize-none",rows:2,placeholder:"ComentÃ¡rios do professor, desempenho..."})]}),e.jsx(Z,{label:"Arquivo do boletim *",accept:"image/*,application/pdf",hint:"PDF ou foto Â· mÃ¡x 10 MB"}),e.jsxs("div",{className:"flex gap-3 pt-1",children:[e.jsx("button",{type:"button",onClick:()=>b(!1),className:"btn-secondary flex-1",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"btn-gradient flex-1",children:"Salvar"})]})]})})]})}),m&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 fade-in",style:{zIndex:"var(--z-modal)",background:"rgba(0,0,0,0.5)",backdropFilter:"blur(4px)"},role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"w-full max-w-md rounded-2xl overflow-hidden",style:{boxShadow:"0 24px 64px rgba(0,0,0,0.25)"},children:[e.jsxs("div",{className:"p-5 flex items-center justify-between",style:{background:"linear-gradient(135deg, #7c3aed, #0ea5e9)"},children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base font-bold text-white",children:[Q[m.period]," Â· ",m.year]}),e.jsxs("p",{className:"text-xs",style:{color:"rgba(255,255,255,0.7)"},children:[m.school," Â· ",m.schoolGrade]})]}),e.jsx("button",{onClick:()=>M(null),className:"w-8 h-8 rounded-full flex items-center justify-center",style:{background:"rgba(255,255,255,0.2)",color:"#fff"},"aria-label":"Fechar",children:e.jsx(O,{size:16})})]}),e.jsxs("div",{className:"p-5",style:{background:"var(--color-surface)"},children:[m.grades&&m.grades.length>0?e.jsxs("div",{className:"space-y-2",children:[m.grades.map(s=>{const r=s.grade/s.maxGrade,x=L(s.grade,s.maxGrade);return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[e.jsx("span",{className:"text-sm font-medium",style:{color:"var(--color-text-secondary)"},children:s.subject}),e.jsxs("span",{className:"text-sm font-bold",style:{color:x},children:[s.grade,"/",s.maxGrade]})]}),e.jsx("div",{className:"h-2 rounded-full",style:{background:"var(--color-border)"},children:e.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${r*100}%`,background:x}})})]},s.subject)}),e.jsx("div",{className:"pt-2 mt-2",style:{borderTop:"1px solid var(--color-border)"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-bold",style:{color:"var(--color-text-secondary)"},children:"MÃ©dia geral"}),e.jsx("span",{className:"text-xl font-extrabold",style:{color:L(m.grades.reduce((s,r)=>s+r.grade/r.maxGrade*10,0)/m.grades.length,10)},children:(m.grades.reduce((s,r)=>s+r.grade/r.maxGrade*10,0)/m.grades.length).toFixed(1)})]})})]}):e.jsx("p",{className:"text-sm text-center py-4",style:{color:"var(--color-text-tertiary)"},children:"Notas nÃ£o inseridas manualmente"}),m.notes&&e.jsx("div",{className:"mt-3 p-3 rounded-xl",style:{background:"var(--color-surface-alt)"},children:e.jsx("p",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:m.notes})}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs("button",{onClick:()=>{v("Download do boletim iniciado!","success")},className:"btn-secondary flex-1 flex items-center justify-center gap-2",children:[e.jsx(oe,{size:14}),"Download PDF"]}),e.jsx("button",{onClick:()=>M(null),className:"btn-ghost flex-1",children:"Fechar"})]})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 fade-in",style:{zIndex:"var(--z-modal)",background:"rgba(0,0,0,0.5)",backdropFilter:"blur(4px)"},role:"dialog","aria-modal":"true","aria-labelledby":"modal-appt-title",children:e.jsxs("div",{className:"w-full max-w-md rounded-2xl overflow-hidden",style:{boxShadow:"0 24px 64px rgba(0,0,0,0.25)"},children:[e.jsxs("div",{className:"p-5 flex items-center justify-between",style:{background:"linear-gradient(135deg, #059669, #0ea5e9)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:"rgba(255,255,255,0.2)"},"aria-hidden":"true",children:e.jsx(ee,{size:20,color:"#fff"})}),e.jsx("h3",{id:"modal-appt-title",className:"text-lg font-bold text-white",children:"Agendar Consulta"})]}),e.jsx("button",{onClick:()=>u(!1),className:"w-8 h-8 rounded-full flex items-center justify-center",style:{background:"rgba(255,255,255,0.2)",color:"#fff"},"aria-label":"Fechar",children:e.jsx(O,{size:16,"aria-hidden":"true"})})]}),e.jsx("div",{className:"p-5 space-y-4",style:{background:"var(--color-surface)"},children:e.jsxs("form",{onSubmit:s=>{s.preventDefault(),u(!1),v("Consulta agendada com sucesso! Ambos os guardiÃµes foram notificados.","success")},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1.5",style:{color:"var(--color-text-secondary)"},children:"Filho"}),e.jsx("select",{className:"input-field",children:Y.map(s=>e.jsx("option",{value:s.id,children:s.fullName},s.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1.5",style:{color:"var(--color-text-secondary)"},children:"Tipo *"}),e.jsx("select",{className:"input-field",children:Object.entries(He).map(([s,r])=>e.jsx("option",{value:s,children:r},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1.5",style:{color:"var(--color-text-secondary)"},children:"TÃ­tulo *"}),e.jsx("input",{type:"text",className:"input-field",placeholder:"Ex: Consulta Pediatra de rotina",required:!0,autoFocus:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1.5",style:{color:"var(--color-text-secondary)"},children:"MÃ©dico / Prof."}),e.jsx("input",{type:"text",className:"input-field",placeholder:"Dr. Nome"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1.5",style:{color:"var(--color-text-secondary)"},children:"Data e hora *"}),e.jsx("input",{type:"datetime-local",className:"input-field",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1.5",style:{color:"var(--color-text-secondary)"},children:"Local"}),e.jsx("input",{type:"text",className:"input-field",placeholder:"ClÃ­nica / Hospital"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1.5",style:{color:"var(--color-text-secondary)"},children:"ObservaÃ§Ãµes"}),e.jsx("textarea",{className:"input-field resize-none",rows:2,placeholder:"Levar carteirinha, jejum, etc."})]}),e.jsx(Z,{label:"Anexo (receita, pedido de exame)",accept:"image/*,application/pdf",hint:"PDF ou imagem Â· mÃ¡x 10 MB"}),e.jsxs("div",{className:"flex gap-3 pt-1",children:[e.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn-secondary flex-1",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"btn-gradient flex-1",children:"Agendar"})]})]})})]})}),j&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 fade-in",style:{zIndex:"var(--z-modal)",background:"rgba(0,0,0,0.5)",backdropFilter:"blur(4px)"},role:"dialog","aria-modal":"true","aria-labelledby":"modal-doc-title",children:e.jsxs("div",{className:"w-full max-w-md rounded-2xl overflow-hidden",style:{boxShadow:"0 24px 64px rgba(0,0,0,0.25)"},children:[e.jsxs("div",{className:"p-5 flex items-center justify-between",style:{background:"linear-gradient(135deg, #059669, #0ea5e9)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:"rgba(255,255,255,0.2)"},"aria-hidden":"true",children:e.jsx(N,{size:20,color:"#fff"})}),e.jsx("h3",{id:"modal-doc-title",className:"text-lg font-bold text-white",children:"Adicionar Documento"})]}),e.jsx("button",{onClick:()=>h(!1),className:"w-8 h-8 rounded-full flex items-center justify-center",style:{background:"rgba(255,255,255,0.2)",color:"#fff"},"aria-label":"Fechar",children:e.jsx(O,{size:16,"aria-hidden":"true"})})]}),e.jsx("div",{className:"p-5",style:{background:"var(--color-surface)"},children:e.jsxs("form",{onSubmit:s=>{s.preventDefault(),h(!1),v("Documento adicionado! Ambos os guardiÃµes foram notificados.","success")},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1.5",style:{color:"var(--color-text-secondary)"},children:"Tipo de documento *"}),e.jsx("select",{className:"input-field",children:Object.entries(W).map(([s,r])=>e.jsx("option",{value:s,children:r},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1.5",style:{color:"var(--color-text-secondary)"},children:"TÃ­tulo *"}),e.jsx("input",{type:"text",className:"input-field",placeholder:"Ex: Boletim 1Âº bimestre 2026",required:!0,autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1.5",style:{color:"var(--color-text-secondary)"},children:"DescriÃ§Ã£o"}),e.jsx("input",{type:"text",className:"input-field",placeholder:"InformaÃ§Ãµes adicionais"})]}),e.jsx(Z,{label:"Arquivo *",accept:"image/*,application/pdf",hint:"PDF ou imagem Â· mÃ¡x 10 MB"}),e.jsxs("div",{className:"flex gap-3 pt-1",children:[e.jsx("button",{type:"button",onClick:()=>h(!1),className:"btn-secondary flex-1",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"btn-gradient flex-1",children:"Salvar"})]})]})})]})}),p&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 fade-in",style:{zIndex:"var(--z-modal)",background:"rgba(0,0,0,0.5)",backdropFilter:"blur(4px)"},role:"dialog","aria-modal":"true","aria-label":p.title,children:e.jsxs("div",{className:"w-full max-w-md rounded-2xl overflow-hidden",style:{boxShadow:"0 24px 64px rgba(0,0,0,0.25)"},children:[e.jsxs("div",{className:"p-5 flex items-center justify-between",style:{background:"linear-gradient(135deg, #059669, #0ea5e9)"},children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:p.title}),e.jsx("button",{onClick:()=>w(null),className:"w-8 h-8 rounded-full flex items-center justify-center",style:{background:"rgba(255,255,255,0.2)",color:"#fff"},"aria-label":"Fechar",children:e.jsx(O,{size:16,"aria-hidden":"true"})})]}),e.jsxs("div",{className:"p-5 space-y-3",style:{background:"var(--color-surface)"},children:[[{icon:e.jsx(D,{size:16}),label:"Data",value:y(f(p.scheduledAt),"dd/MM/yyyy 'Ã s' HH:mm",{locale:k})},p.doctor?{icon:e.jsx(se,{size:16}),label:"Profissional",value:p.doctor}:null,p.location?{icon:e.jsx(ue,{size:16}),label:"Local",value:p.location}:null,p.notes?{icon:e.jsx(N,{size:16}),label:"ObservaÃ§Ãµes",value:p.notes}:null].filter(Boolean).map((s,r)=>s&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:"rgba(5,150,105,0.1)",color:"#059669"},"aria-hidden":"true",children:s.icon}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs",style:{color:"var(--color-text-tertiary)"},children:s.label}),e.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--color-text-primary)"},children:s.value})]})]},r)),e.jsxs("div",{className:"flex gap-2 pt-2",children:[p.status==="AGENDADO"&&e.jsx("button",{className:"btn-gradient flex-1",onClick:()=>{w(null),v("Consulta marcada como realizada!","success")},children:"Marcar realizada"}),e.jsx("button",{onClick:()=>w(null),className:"btn-secondary",style:{flex:p.status!=="AGENDADO"?1:"0 0 auto",padding:"0 16px"},children:"Fechar"})]})]})]})})]})}export{os as default};
