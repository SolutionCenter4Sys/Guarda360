import{c as O,j as e,r as f,o as c,i as ee,G as ae,m as I,H as re,J as se,U as G,S as z,t as te,X as D,M as R,w as le,K as oe,d as ie,h as de}from"./index-DduWlyHt.js";import{P as T}from"./plus-B51eporo.js";import{U as L}from"./user-plus-CTbmHoEh.js";import{G as ce}from"./graduation-cap-Dw2fv_-f.js";import{f as P,p as U}from"./pt-BR-Cb6bWWUC.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=O("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=O("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);function xe({icon:s,title:t,description:d,action:i}){return e.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-16 px-6",role:"status","aria-label":t,children:[s&&e.jsx("div",{className:"mb-4 w-16 h-16 rounded-2xl flex items-center justify-center",style:{background:"var(--color-surface-alt)",color:"var(--color-text-tertiary)"},"aria-hidden":"true",children:s}),e.jsx("h3",{className:"text-base font-semibold mb-1",style:{color:"var(--color-text-primary)"},children:t}),d&&e.jsx("p",{className:"text-sm max-w-xs mb-6",style:{color:"var(--color-text-tertiary)"},children:d}),i&&e.jsx("button",{onClick:i.onClick,className:i.variant==="gradient"?"btn-gradient":"btn-primary",children:i.label})]})}function ue(s){const t=I.filter(n=>n.childId===s.id),d=t.filter(n=>n.status==="CONFIRMADO").length,i=t.length||1,u=Math.round(d/i*100),h=t.filter(n=>n.status==="PENDENTE").length,b=Math.floor((Date.now()-new Date(s.birthDate).getTime())/(365.25*24*3600*1e3)),v=de.filter(n=>n.status==="PAGO").length;return{compliance:u,done:d,pending:h,total:t.length,age:b,paidCount:v}}function me({pct:s,color:t}){const i=2*Math.PI*16,u=s/100*i;return e.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",style:{transform:"rotate(-90deg)"},"aria-hidden":"true",children:[e.jsx("circle",{cx:"20",cy:"20",r:16,fill:"none",stroke:"var(--color-border)",strokeWidth:"4"}),e.jsx("circle",{cx:"20",cy:"20",r:16,fill:"none",stroke:t,strokeWidth:"4",strokeDasharray:`${u} ${i}`,strokeLinecap:"round"})]})}function he({child:s,onInvite:t}){const{compliance:d,done:i,pending:u,age:h,paidCount:b}=ue(s),v=d>=75?"var(--color-confirmado)":d>=50?"var(--color-pendente)":"var(--color-cancelado)",n=c.indexOf(s),j=["linear-gradient(135deg, #1d4ed8 0%, #7c3aed 100%)","linear-gradient(135deg, #7c3aed 0%, #db2777 100%)","linear-gradient(135deg, #0ea5e9 0%, #1d4ed8 100%)","linear-gradient(135deg, #059669 0%, #0ea5e9 100%)"],N=j[n%j.length];return e.jsxs("article",{className:"rounded-2xl overflow-hidden transition-all",style:{background:"var(--color-surface)",border:"1px solid var(--color-border)",boxShadow:"var(--shadow-soft)"},"aria-label":`Perfil de ${s.fullName}`,children:[e.jsxs("div",{className:"relative px-5 pt-5 pb-14 overflow-hidden",style:{background:N},children:[e.jsx("div",{className:"absolute -top-6 -right-6 w-28 h-28 rounded-full opacity-10",style:{background:"#fff"},"aria-hidden":"true"}),e.jsx("div",{className:"absolute bottom-2 left-8 w-16 h-16 rounded-full opacity-10",style:{background:"#fff"},"aria-hidden":"true"}),e.jsxs("div",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-bold mb-3",style:{background:"rgba(255,255,255,0.2)",color:"#fff"},children:[e.jsx($,{size:11,"aria-hidden":"true"}),h," anos"]}),e.jsx("h3",{className:"text-lg font-extrabold text-white leading-tight",children:s.fullName}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-1",style:{color:"rgba(255,255,255,0.8)"},children:[e.jsx(ce,{size:13,"aria-hidden":"true"}),e.jsx("span",{className:"text-xs font-medium truncate",children:s.schoolName})]}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",style:{color:"rgba(255,255,255,0.7)"},children:[e.jsx(ne,{size:12,"aria-hidden":"true"}),e.jsx("time",{dateTime:s.birthDate,className:"text-xs",children:P(new Date(s.birthDate),"dd/MM/yyyy",{locale:U})})]})]}),e.jsx("div",{className:"relative -mt-10 px-5",children:e.jsx("div",{className:"w-20 h-20 rounded-2xl flex items-center justify-center font-extrabold text-white text-3xl border-4",style:{background:N,borderColor:"var(--color-surface)",boxShadow:"0 8px 24px rgba(0,0,0,0.18)"},"aria-hidden":"true",children:s.fullName.charAt(0)})}),e.jsxs("div",{className:"px-5 pt-3 pb-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[e.jsxs("div",{className:"rounded-xl p-2.5 flex flex-col items-center gap-1",style:{background:"var(--color-surface-alt)"},children:[e.jsxs("div",{className:"relative flex items-center justify-center w-10 h-10",children:[e.jsx(me,{pct:d,color:v}),e.jsxs("span",{className:"absolute text-xs font-extrabold",style:{color:v},children:[d,"%"]})]}),e.jsx("p",{className:"text-xs font-medium text-center leading-tight",style:{color:"var(--color-text-tertiary)"},children:"Cumprimento"})]}),e.jsxs("div",{className:"rounded-xl p-2.5 flex flex-col items-center justify-center gap-0.5",style:{background:"var(--color-surface-alt)"},children:[e.jsx("p",{className:"text-2xl font-extrabold leading-none",style:{color:"var(--color-primary)"},children:i}),e.jsx("p",{className:"text-xs font-medium text-center",style:{color:"var(--color-text-tertiary)"},children:"Visitas este mês"}),u>0&&e.jsxs("p",{className:"text-xs font-semibold",style:{color:"var(--color-pendente)"},children:[u," pendente",u>1?"s":""]})]}),e.jsxs("div",{className:"rounded-xl p-2.5 flex flex-col items-center justify-center gap-0.5",style:{background:"var(--color-surface-alt)"},children:[e.jsx("p",{className:"text-2xl font-extrabold leading-none",style:{color:"var(--color-confirmado)"},children:b}),e.jsx("p",{className:"text-xs font-medium text-center",style:{color:"var(--color-text-tertiary)"},children:"Pensões pagas"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-xs font-bold uppercase tracking-widest mb-2.5",style:{color:"var(--color-text-tertiary)"},children:"Responsáveis"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.guardians.map(x=>{const l=x.role==="GUARDIAN_1",m=l?"var(--color-guardian-a)":"var(--color-guardian-b)",p=l?"var(--color-guardian-a-bg)":"var(--color-guardian-b-bg)",k=l?"var(--color-guardian-a-border)":"var(--color-guardian-b-border)";return e.jsxs("div",{className:"rounded-xl p-2.5 flex flex-col gap-2",style:{background:p,border:`1px solid ${k}`},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center font-bold text-white text-sm flex-shrink-0",style:{background:m},"aria-hidden":"true",children:x.fullName.charAt(0)}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs font-bold leading-tight truncate",style:{color:m},children:x.fullName.split(" ")[0]}),e.jsx("p",{className:"text-xs leading-tight",style:{color:m},children:l?"Guardião A":"Guardião B"})]})]}),e.jsx("div",{className:"text-xs font-semibold text-center px-1.5 py-0.5 rounded-full",style:{background:m,color:"#fff"},children:l?"Responsável 1":"Responsável 2"})]},x.userId)})})]}),e.jsxs("button",{onClick:()=>t(s.id),className:"w-full flex items-center justify-center gap-2 py-2.5 rounded-xl text-sm font-semibold transition-all",style:{background:"var(--color-surface-alt)",color:"var(--color-primary)",border:"1.5px solid var(--color-border)"},onMouseEnter:x=>{const l=x.currentTarget;l.style.background="var(--color-primary-muted)",l.style.borderColor="var(--color-primary)"},onMouseLeave:x=>{const l=x.currentTarget;l.style.background="var(--color-surface-alt)",l.style.borderColor="var(--color-border)"},children:[e.jsx(L,{size:15,"aria-hidden":"true"}),"Convidar co-guardião",e.jsx(ie,{size:14,className:"ml-auto","aria-hidden":"true"})]})]})]})}function ye(){var F;const[s,t]=f.useState(!1),[d,i]=f.useState(!1),[u,h]=f.useState(!1),[b,v]=f.useState(((F=c[0])==null?void 0:F.id)??""),[n,j]=f.useState(""),[N,x]=f.useState(!1),[l,m]=f.useState({fullName:"",birthDate:"",schoolName:""}),[p,k]=f.useState(""),{toast:w}=ee(),{openOnboarding:B}=ae(),C=c.find(a=>a.id===n),_=a=>{a.preventDefault(),t(!1),m({fullName:"",birthDate:"",schoolName:""}),w(`${l.fullName||"Filho"} cadastrado com sucesso!`,"success")},H=a=>{a.preventDefault(),x(!0),w(`Convite enviado para ${p}`,"success")},M=()=>{i(!1),x(!1),k("")},V=a=>{j(a),i(!0)},W=[...new Set(c.flatMap(a=>a.guardians.map(r=>r.userId)))].length,q=I.length,Q=I.filter(a=>a.status==="CONFIRMADO").length,X=Math.round(Q/(q||1)*100);return e.jsxs("div",{className:"max-w-5xl mx-auto space-y-5",children:[e.jsxs("div",{className:"rounded-2xl overflow-hidden",style:{background:"var(--foursys-gradient)",boxShadow:"0 6px 24px rgba(124,58,237,0.28)"},children:[e.jsxs("div",{className:"flex items-center justify-between px-5 pt-5 pb-4 flex-wrap gap-3",style:{borderBottom:"1px solid rgba(255,255,255,0.12)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:"rgba(255,255,255,0.2)"},"aria-hidden":"true",children:e.jsx(re,{size:20,color:"#fff"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-extrabold text-white leading-tight",children:"Meus Filhos"}),e.jsxs("p",{className:"text-xs font-medium",style:{color:"rgba(255,255,255,0.7)"},children:[c.length," filho",c.length!==1?"s":""," cadastrado",c.length!==1?"s":""]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-1.5 px-3 py-2 rounded-full text-sm font-bold transition-all",style:{background:"rgba(255,255,255,0.12)",color:"#fff",border:"1.5px solid rgba(255,255,255,0.25)"},children:[e.jsx(se,{size:14,"aria-hidden":"true"}),"Tipo de guarda"]}),e.jsxs("button",{onClick:()=>t(!0),className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-bold transition-all",style:{background:"rgba(255,255,255,0.18)",color:"#fff",border:"1.5px solid rgba(255,255,255,0.35)",backdropFilter:"blur(4px)"},children:[e.jsx(T,{size:15,"aria-hidden":"true"}),"Adicionar filho"]})]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-px px-5 py-4",style:{color:"#fff"},children:[{label:"Filhos",value:c.length,icon:e.jsx(G,{size:16,"aria-hidden":"true"})},{label:"Responsáveis",value:W,icon:e.jsx(z,{size:16,"aria-hidden":"true"})},{label:"Cumprimento",value:`${X}%`,icon:e.jsx(te,{size:16,"aria-hidden":"true"})}].map(a=>e.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[e.jsx("div",{style:{color:"rgba(255,255,255,0.7)"},children:a.icon}),e.jsx("p",{className:"text-2xl font-extrabold leading-none text-white",children:a.value}),e.jsx("p",{className:"text-xs font-medium",style:{color:"rgba(255,255,255,0.65)"},children:a.label})]},a.label))})]}),c.length===0&&e.jsx("div",{className:"card",children:e.jsx(xe,{icon:e.jsx(G,{size:28}),title:"Nenhum filho cadastrado",description:"Cadastre o primeiro filho para começar a organizar a guarda compartilhada.",action:{label:"Configurar agora",onClick:B,variant:"gradient"}})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[c.map(a=>e.jsx(he,{child:a,onInvite:V},a.id)),e.jsxs("button",{onClick:()=>t(!0),className:"rounded-2xl border-2 border-dashed flex flex-col items-center justify-center gap-4 min-h-[320px] transition-all group",style:{borderColor:"var(--color-border-dark)",background:"transparent"},"aria-label":"Adicionar novo filho",onMouseEnter:a=>{const r=a.currentTarget;r.style.borderColor="var(--color-primary)",r.style.background="rgba(29,78,216,0.03)"},onMouseLeave:a=>{const r=a.currentTarget;r.style.borderColor="var(--color-border-dark)",r.style.background="transparent"},children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center transition-all",style:{background:"var(--color-surface-alt)",border:"2px solid var(--color-border)",color:"var(--color-text-tertiary)"},"aria-hidden":"true",children:e.jsx(T,{size:28})}),e.jsxs("div",{className:"text-center px-6",children:[e.jsx("p",{className:"text-base font-bold",style:{color:"var(--color-text-secondary)"},children:"Adicionar filho"}),e.jsx("p",{className:"text-sm mt-1",style:{color:"var(--color-text-tertiary)"},children:"Cadastre mais filhos para organizar a guarda compartilhada"})]})]})]}),s&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 fade-in",style:{zIndex:"var(--z-modal)",background:"rgba(0,0,0,0.5)",backdropFilter:"blur(4px)"},role:"dialog","aria-modal":"true","aria-labelledby":"modal-add-child-title",children:e.jsxs("div",{className:"w-full max-w-md rounded-2xl overflow-hidden",style:{boxShadow:"0 24px 64px rgba(0,0,0,0.25)"},children:[e.jsxs("div",{className:"p-5 flex items-center justify-between",style:{background:"var(--foursys-gradient)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:"rgba(255,255,255,0.2)"},"aria-hidden":"true",children:e.jsx($,{size:20,color:"#fff"})}),e.jsx("h3",{id:"modal-add-child-title",className:"text-lg font-bold text-white",children:"Cadastrar filho"})]}),e.jsx("button",{onClick:()=>t(!1),className:"w-8 h-8 rounded-full flex items-center justify-center",style:{background:"rgba(255,255,255,0.2)",color:"#fff"},"aria-label":"Fechar modal",children:e.jsx(D,{size:16,"aria-hidden":"true"})})]}),e.jsx("div",{className:"p-5",style:{background:"var(--color-surface)"},children:e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"child-name",className:"block text-sm font-semibold mb-1.5",style:{color:"var(--color-text-secondary)"},children:"Nome completo *"}),e.jsx("input",{id:"child-name",type:"text",className:"input-field",value:l.fullName,onChange:a=>m(r=>({...r,fullName:a.target.value})),placeholder:"Nome completo da criança",required:!0,autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"child-birth",className:"block text-sm font-semibold mb-1.5",style:{color:"var(--color-text-secondary)"},children:"Data de nascimento *"}),e.jsx("input",{id:"child-birth",type:"date",className:"input-field",value:l.birthDate,onChange:a=>m(r=>({...r,birthDate:a.target.value})),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"child-school",className:"block text-sm font-semibold mb-1.5",style:{color:"var(--color-text-secondary)"},children:"Escola"}),e.jsx("input",{id:"child-school",type:"text",className:"input-field",value:l.schoolName,onChange:a=>m(r=>({...r,schoolName:a.target.value})),placeholder:"Nome da escola ou creche"})]}),e.jsxs("div",{className:"flex gap-3 pt-1",children:[e.jsx("button",{type:"button",onClick:()=>t(!1),className:"btn-secondary flex-1",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"btn-gradient flex-1",children:"Cadastrar"})]})]})})]})}),d&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 fade-in",style:{zIndex:"var(--z-modal)",background:"rgba(0,0,0,0.5)",backdropFilter:"blur(4px)"},role:"dialog","aria-modal":"true","aria-labelledby":"modal-invite-title",children:e.jsx("div",{className:"w-full max-w-md rounded-2xl overflow-hidden",style:{boxShadow:"0 24px 64px rgba(0,0,0,0.25)"},children:N?e.jsx("div",{style:{background:"var(--color-surface)"},children:e.jsxs("div",{className:"p-8 text-center",style:{background:"linear-gradient(135deg, rgba(22,163,74,0.08) 0%, rgba(22,163,74,0.02) 100%)"},children:[e.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-5",style:{background:"var(--color-confirmado-bg)",border:"3px solid var(--color-confirmado)"},"aria-hidden":"true",children:e.jsx(le,{size:36,style:{color:"var(--color-confirmado)"}})}),e.jsx("h3",{className:"text-xl font-extrabold mb-2",style:{color:"var(--color-text-primary)"},children:"Convite enviado!"}),e.jsx("p",{className:"text-sm mb-1",style:{color:"var(--color-text-tertiary)"},children:"E-mail enviado para"}),e.jsx("p",{className:"text-base font-bold mb-4 px-4 py-2 rounded-xl inline-block",style:{color:"var(--color-primary)",background:"var(--color-primary-muted)"},children:p}),e.jsx("p",{className:"text-sm mb-6",style:{color:"var(--color-text-tertiary)"},children:"O co-guardião receberá as instruções para criar conta e se vincular automaticamente."}),e.jsx("button",{onClick:M,className:"btn-gradient w-full",children:"Fechar"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-5 flex items-center justify-between",style:{background:"linear-gradient(135deg, #7c3aed 0%, #db2777 100%)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:"rgba(255,255,255,0.2)"},"aria-hidden":"true",children:e.jsx(L,{size:20,color:"#fff"})}),e.jsx("h3",{id:"modal-invite-title",className:"text-lg font-bold text-white",children:"Convidar co-guardião"})]}),e.jsx("button",{onClick:M,className:"w-8 h-8 rounded-full flex items-center justify-center",style:{background:"rgba(255,255,255,0.2)",color:"#fff"},"aria-label":"Fechar modal",children:e.jsx(D,{size:16,"aria-hidden":"true"})})]}),e.jsxs("div",{className:"p-5 space-y-4",style:{background:"var(--color-surface)"},children:[C&&e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl",style:{background:"var(--color-surface-alt)",border:"1px solid var(--color-border)"},children:[e.jsx("div",{className:"w-11 h-11 rounded-xl flex items-center justify-center font-bold text-white text-lg",style:{background:"var(--foursys-gradient)"},"aria-hidden":"true",children:C.fullName.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold",style:{color:"var(--color-text-primary)"},children:C.fullName}),e.jsx("p",{className:"text-xs",style:{color:"var(--color-text-tertiary)"},children:"Vinculando novo co-guardião"})]})]}),e.jsxs("div",{className:"p-3 rounded-xl flex items-start gap-2.5 text-sm",style:{background:"var(--color-guardian-b-bg)",border:"1px solid var(--color-guardian-b-border)"},children:[e.jsx(z,{size:16,style:{color:"var(--color-guardian-b)",flexShrink:0,marginTop:1},"aria-hidden":"true"}),e.jsxs("span",{style:{color:"var(--color-text-secondary)"},children:["O co-guardião receberá um link para ",e.jsx("strong",{children:"criar conta"})," e se vincular automaticamente."]})]}),e.jsxs("form",{onSubmit:H,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"invite-email",className:"block text-sm font-semibold mb-1.5",style:{color:"var(--color-text-secondary)"},children:"E-mail do co-guardião *"}),e.jsxs("div",{className:"relative",children:[e.jsx(R,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--color-text-tertiary)"},"aria-hidden":"true"}),e.jsx("input",{id:"invite-email",type:"email",className:"input-field",style:{paddingLeft:"2.25rem"},value:p,onChange:a=>k(a.target.value),placeholder:"email@exemplo.com",required:!0,autoFocus:!0})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:M,className:"btn-secondary flex-1",children:"Cancelar"}),e.jsxs("button",{type:"submit",className:"btn-gradient flex-1 flex items-center justify-center gap-2",disabled:!p.includes("@"),style:{opacity:p.includes("@")?1:.55},children:[e.jsx(R,{size:14,"aria-hidden":"true"}),"Enviar convite"]})]})]})]})]})})}),u&&(()=>{const a=c.find(o=>o.id===b),r=oe.find(o=>o.childId===b),J={COMPARTILHADA_ALTERNADA:{label:"Compartilhada Alternada",desc:"Criança alterna residência entre os guardiões conforme calendário definido"},COMPARTILHADA_EXCLUSIVA:{label:"Compartilhada Exclusiva (física)",desc:"Residência fixa com um guardião; o outro tem direito a visitas regulares"},UNILATERAL:{label:"Unilateral",desc:"Guarda exclusiva com um dos guardiões; visitação conforme decisão judicial"}},K=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"];return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 fade-in",style:{zIndex:"var(--z-modal)",background:"rgba(0,0,0,0.5)",backdropFilter:"blur(4px)"},role:"dialog","aria-modal":"true","aria-label":"Configuração de guarda",children:e.jsxs("div",{className:"w-full max-w-lg rounded-2xl overflow-hidden",style:{boxShadow:"0 24px 64px rgba(0,0,0,0.25)"},children:[e.jsxs("div",{className:"p-5 flex items-center justify-between",style:{background:"var(--foursys-gradient)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:"rgba(255,255,255,0.2)"},"aria-hidden":"true",children:e.jsx(z,{size:20,color:"#fff"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Tipo de Guarda"}),a&&e.jsx("p",{className:"text-xs",style:{color:"rgba(255,255,255,0.7)"},children:a.fullName})]})]}),e.jsx("button",{onClick:()=>h(!1),className:"w-8 h-8 rounded-full flex items-center justify-center",style:{background:"rgba(255,255,255,0.2)",color:"#fff"},"aria-label":"Fechar",children:e.jsx(D,{size:16,"aria-hidden":"true"})})]}),e.jsxs("div",{className:"p-5 max-h-[75vh] overflow-y-auto space-y-5",style:{background:"var(--color-surface)"},children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1.5",style:{color:"var(--color-text-secondary)"},children:"Filho"}),e.jsx("select",{className:"input-field",value:b,onChange:o=>v(o.target.value),children:c.map(o=>e.jsx("option",{value:o.id,children:o.fullName},o.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text-secondary)"},children:"Modalidade de guarda *"}),e.jsx("div",{className:"space-y-2",children:Object.entries(J).map(([o,g])=>{const y=(r==null?void 0:r.type)===o;return e.jsxs("label",{className:"flex items-start gap-3 p-3 rounded-xl cursor-pointer transition-all",style:{background:y?"var(--color-primary-muted)":"var(--color-surface-alt)",border:`1.5px solid ${y?"var(--color-primary)":"var(--color-border)"}`},children:[e.jsx("input",{type:"radio",name:"guardType",value:o,defaultChecked:y,className:"mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold",style:{color:y?"var(--color-primary)":"var(--color-text-primary)"},children:g.label}),e.jsx("p",{className:"text-xs mt-0.5",style:{color:"var(--color-text-tertiary)"},children:g.desc})]})]},o)})})]}),r&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text-secondary)"},children:"Dias de convivência"}),e.jsx("div",{className:"space-y-2.5",children:["GUARDIAN_1","GUARDIAN_2"].map(o=>{const g=o==="GUARDIAN_1",y=g?r.guardian1Weekdays:r.guardian2Weekdays,A=g?"var(--color-guardian-a)":"var(--color-guardian-b)",Y=g?"var(--color-guardian-a-bg)":"var(--color-guardian-b-bg)";return e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold mb-1.5",style:{color:A},children:g?"Guardião A":"Guardião B"}),e.jsx("div",{className:"flex gap-1.5 flex-wrap",children:K.map((Z,E)=>{const S=y.includes(E);return e.jsx("div",{className:"w-9 h-9 rounded-xl flex items-center justify-center text-xs font-bold",style:{background:S?Y:"var(--color-surface-alt)",color:S?A:"var(--color-text-tertiary)",border:`1.5px solid ${S?A:"var(--color-border)"}`},children:Z},E)})})]},o)})}),e.jsxs("p",{className:"text-xs mt-2",style:{color:"var(--color-text-tertiary)"},children:["Vigência a partir de"," ",P(new Date(r.startDate),"dd/MM/yyyy",{locale:U}),r.notes&&` · ${r.notes}`]})]}),e.jsxs("div",{className:"flex gap-3 pt-1",children:[e.jsx("button",{type:"button",onClick:()=>h(!1),className:"btn-secondary flex-1",children:"Cancelar"}),e.jsx("button",{type:"button",className:"btn-gradient flex-1",onClick:()=>{h(!1),w("Configuração de guarda atualizada!","success")},children:"Salvar configuração"})]})]})]})})})()]})}export{ye as default};
