import{c as j,r as i,j as r,X as N,F as w}from"./index-DduWlyHt.js";import{U as z}from"./upload-CazXprGT.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=j("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=j("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);function $(t){return t<1024?`${t} B`:t<1024*1024?`${(t/1024).toFixed(1)} KB`:`${(t/(1024*1024)).toFixed(1)} MB`}function q({type:t}){return t.startsWith("image/")?r.jsx(U,{size:18,"aria-hidden":"true"}):t==="application/pdf"?r.jsx(w,{size:18,"aria-hidden":"true"}):r.jsx(D,{size:18,"aria-hidden":"true"})}function I({label:t="Anexar arquivo",accept:k="image/*,application/pdf,.doc,.docx",multiple:x=!1,maxSizeMB:u=10,onFilesChange:o,hint:m}){const n=i.useRef(null),[c,p]=i.useState([]),[y,d]=i.useState(!1),[f,v]=i.useState(null),h=e=>{if(!e)return;v(null);const a=[];Array.from(e).forEach(s=>{if(s.size>u*1024*1024){v(`"${s.name}" excede o limite de ${u} MB.`);return}const g=s.type.startsWith("image/")?URL.createObjectURL(s):void 0;a.push({id:`${Date.now()}-${Math.random()}`,file:s,previewUrl:g,name:s.name,size:s.size,type:s.type})});const l=x?[...c,...a]:a;p(l),o==null||o(l)},b=e=>{const a=c.filter(l=>l.id!==e);p(a),o==null||o(a)};return r.jsxs("div",{className:"space-y-2",children:[t&&r.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--color-text-secondary)"},children:t}),r.jsxs("div",{className:"rounded-xl border-2 border-dashed transition-all cursor-pointer flex flex-col items-center justify-center gap-2 py-5 px-4 text-center",style:{borderColor:y?"var(--color-primary)":"var(--color-border-dark)",background:y?"var(--color-primary-muted)":"var(--color-surface-alt)"},onClick:()=>{var e;return(e=n.current)==null?void 0:e.click()},onDragOver:e=>{e.preventDefault(),d(!0)},onDragLeave:()=>d(!1),onDrop:e=>{e.preventDefault(),d(!1),h(e.dataTransfer.files)},role:"button",tabIndex:0,"aria-label":t,onKeyDown:e=>{var a;(e.key==="Enter"||e.key===" ")&&((a=n.current)==null||a.click())},children:[r.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:"rgba(29,78,216,0.1)",color:"var(--color-primary)"},"aria-hidden":"true",children:r.jsx(z,{size:20})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--color-primary)"},children:"Clique para selecionar"}),r.jsx("p",{className:"text-xs mt-0.5",style:{color:"var(--color-text-tertiary)"},children:"ou arraste e solte aqui"})]}),m&&r.jsx("p",{className:"text-xs",style:{color:"var(--color-text-tertiary)"},children:m})]}),r.jsx("input",{ref:n,type:"file",accept:k,multiple:x,className:"hidden",onChange:e=>h(e.target.files),"aria-hidden":"true"}),f&&r.jsx("p",{className:"text-xs font-medium",style:{color:"var(--color-cancelado)"},children:f}),c.length>0&&r.jsx("ul",{className:"space-y-2","aria-label":"Arquivos selecionados",children:c.map(e=>r.jsxs("li",{className:"flex items-center gap-3 p-2.5 rounded-xl",style:{background:"var(--color-surface-alt)",border:"1px solid var(--color-border)"},children:[e.previewUrl?r.jsx("img",{src:e.previewUrl,alt:e.name,className:"w-10 h-10 rounded-lg object-cover flex-shrink-0"}):r.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0",style:{background:"rgba(29,78,216,0.1)",color:"var(--color-primary)"},"aria-hidden":"true",children:r.jsx(q,{type:e.type})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs font-semibold truncate",style:{color:"var(--color-text-primary)"},children:e.name}),r.jsx("p",{className:"text-xs",style:{color:"var(--color-text-tertiary)"},children:$(e.size)})]}),r.jsx("button",{onClick:()=>b(e.id),className:"w-7 h-7 rounded-lg flex items-center justify-center flex-shrink-0 transition-all",style:{color:"var(--color-text-tertiary)",background:"var(--color-surface)"},"aria-label":`Remover ${e.name}`,children:r.jsx(N,{size:14,"aria-hidden":"true"})})]},e.id))})]})}export{I as F};
