import{c as z,j as e,F as y,X as I,C as f,L,r as o,i as M,N as p,E as j,O as v,o as N,S as H,n as D}from"./index-DduWlyHt.js";import{H as g}from"./Badge-BwjyIJz_.js";import{D as C}from"./download-Cux2d8XB.js";import{P as B}from"./plus-B51eporo.js";import{E as O}from"./eye-CONcyIQe.js";import{C as U}from"./circle-alert-D4zJIj6G.js";import{f as h,p as u}from"./pt-BR-Cb6bWWUC.js";import{p as b}from"./parseISO-BYvTlcex.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=z("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]),$={UNIFIED_TIMELINE:"üìã Timeline Unificada",FINANCIAL:"üí∞ Financeiro",INCIDENTS:"‚ö†Ô∏è Ocorr√™ncias",CALENDAR:"üìÖ Calend√°rio",FULL:"üìÅ Relat√≥rio Completo"};function G(a){const t="filho(a)";return a.type==="CALENDAR"?[{title:"üìÖ Resumo de Conviv√™ncia",items:["Total de eventos: 24","Confirmados: 19 (79%)","Faltas: 3 (12%)","Atrasos: 2 (8%)","Cancelamentos: 0"]},{title:"üìÜ Eventos por m√™s",items:["Jan/2026: 6 eventos ‚Äî 5 confirmados, 1 falta","Fev/2026: 8 eventos ‚Äî 7 confirmados, 1 atraso","Mar/2026: 10 eventos ‚Äî 7 confirmados, 2 faltas"]},{title:"‚öñÔ∏è Observa√ß√µes jur√≠dicas",items:[`${t} n√£o foi entregue em 3 ocasi√µes previstas`,"Todos os registros possuem check-in/check-out validado","Timestamps imut√°veis registrados em servidor UTC"]}]:a.type==="FINANCIAL"?[{title:"üí∞ Pens√£o Aliment√≠cia",items:["Valor mensal: R$ 1.850,00","Per√≠odo: Jan‚ÄìMar/2026","Pagamentos recebidos: 3/3 (100%)","Valor total: R$ 5.550,00"]},{title:"üßæ Despesas Extraordin√°rias",items:["M√©dico: R$ 420,00 (aprovado)","Escolar: R$ 380,00 (aprovado)","Esporte: R$ 150,00 (pendente)"]},{title:"‚ö†Ô∏è Inadimpl√™ncia",items:["Nenhum m√™s com atraso no per√≠odo selecionado","Score de adimpl√™ncia: 100%"]}]:a.type==="INCIDENTS"?[{title:"üö® Ocorr√™ncias Registradas",items:["Total: 5 ocorr√™ncias no per√≠odo","Cr√≠ticas: 0 | Altas: 1 | M√©dias: 2 | Baixas: 2"]},{title:"üìä Distribui√ß√£o por tipo",items:["Descumprimento de visita: 2 (40%)","Comunica√ß√£o inadequada: 2 (40%)","Outros: 1 (20%)"]},{title:"üìé Evid√™ncias anexadas",items:["3 ocorr√™ncias possuem evid√™ncias em arquivo","2 ocorr√™ncias possuem hash SHA-256 verificado","Advogado notificado em 1 ocorr√™ncia de gravidade alta"]}]:[{title:"üìã Relat√≥rio Completo",items:["Calend√°rio de conviv√™ncia","Hist√≥rico financeiro","Ocorr√™ncias registradas","Timeline unificada de eventos"]},{title:"üîê Integridade",items:["Todos os itens possuem hash SHA-256","Gerado com assinatura temporal do servidor",`Arquivo: ${a.id}.pdf`]}]}function q({onSuccess:a}){const[t,d]=o.useState("idle"),[i,n]=o.useState(""),l=()=>{i.length===6&&(d("signed"),a())};return e.jsxs("div",{style:{borderTop:"1px solid var(--color-border)",paddingTop:"16px"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(S,{size:15,style:{color:"var(--color-text-secondary)"},"aria-hidden":"true"}),e.jsx("p",{className:"text-sm font-bold",style:{color:"var(--color-text-primary)"},children:"Assinatura Digital"}),t==="signed"&&e.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold px-2 py-0.5 rounded-full",style:{background:"var(--color-confirmado-bg)",color:"var(--color-confirmado)"},children:[e.jsx(f,{size:11,"aria-hidden":"true"})," Assinado"]})]}),t==="idle"&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs mb-3",style:{color:"var(--color-text-secondary)"},children:"Ao assinar digitalmente, voc√™ certifica que as informa√ß√µes deste relat√≥rio s√£o fidedignas e autoriza seu uso em processo judicial."}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl mb-3",style:{background:"var(--color-surface-alt)",border:"1px solid var(--color-border)"},children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-bold text-white",style:{background:"var(--foursys-gradient)"},"aria-hidden":"true",children:"M"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--color-text-primary)"},children:"Maria Silva"}),e.jsx("p",{className:"text-xs",style:{color:"var(--color-text-tertiary)"},children:"Respons√°vel 1 ¬∑ CPF 123.456.789-00"})]})]}),e.jsxs("button",{onClick:()=>d("signing"),className:"w-full btn-gradient flex items-center justify-center gap-2 text-sm",children:[e.jsx(S,{size:15,"aria-hidden":"true"})," Assinar este relat√≥rio"]})]}),t==="signing"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"Digite seu PIN de 6 d√≠gitos para confirmar a assinatura digital:"}),e.jsx("input",{type:"password",inputMode:"numeric",maxLength:6,placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",value:i,onChange:c=>n(c.target.value.replace(/\D/g,"")),className:"input-field text-center text-xl tracking-widest font-bold","aria-label":"PIN de assinatura digital (6 d√≠gitos)"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>d("idle"),className:"btn-secondary flex-1 text-sm",children:"Cancelar"}),e.jsxs("button",{type:"button",onClick:l,disabled:i.length<6,className:"btn-gradient flex-1 flex items-center justify-center gap-1.5 text-sm disabled:opacity-50",children:[e.jsx(L,{size:14,"aria-hidden":"true"})," Confirmar assinatura"]})]})]}),t==="signed"&&e.jsxs("div",{className:"p-4 rounded-xl space-y-2",style:{background:"var(--color-confirmado-bg)",border:"1px solid color-mix(in srgb, var(--color-confirmado) 30%, transparent)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{size:16,style:{color:"var(--color-confirmado)"},"aria-hidden":"true"}),e.jsx("p",{className:"text-sm font-bold",style:{color:"var(--color-confirmado)"},children:"Assinado com sucesso"})]}),e.jsxs("p",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:[e.jsx("strong",{children:"Signat√°rio:"})," Maria Silva (CPF 123.456.789-00)"]}),e.jsxs("p",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:[e.jsx("strong",{children:"Data/hora:"})," ",new Date().toLocaleString("pt-BR")]}),e.jsxs("p",{className:"text-xs font-mono truncate",style:{color:"var(--color-text-tertiary)"},children:["Carimbo: SIG-",Date.now().toString(36).toUpperCase()]})]})]})}function J({report:a,onClose:t,onDownload:d,onSigned:i}){const n=G(a);return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 fade-in",style:{zIndex:"var(--z-modal)",background:"rgba(0,0,0,0.5)",backdropFilter:"blur(4px)"},role:"dialog","aria-modal":"true","aria-labelledby":"preview-modal-title",children:e.jsxs("div",{className:"w-full max-w-xl rounded-2xl overflow-hidden",style:{background:"var(--color-surface)",boxShadow:"0 24px 64px rgba(0,0,0,0.25)",maxHeight:"90vh",overflowY:"auto"},children:[e.jsxs("div",{className:"p-5 flex items-start justify-between gap-3",style:{background:"var(--foursys-gradient)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{background:"rgba(255,255,255,0.2)"},"aria-hidden":"true",children:e.jsx(y,{size:22,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("p",{id:"preview-modal-title",className:"font-extrabold text-white text-base",children:a.title}),e.jsxs("p",{className:"text-xs",style:{color:"rgba(255,255,255,0.75)"},children:[$[a.type]," ¬∑ Per√≠odo: ",a.period]})]})]}),e.jsx("button",{onClick:t,className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",style:{background:"rgba(255,255,255,0.2)",color:"#fff"},"aria-label":"Fechar preview",children:e.jsx(I,{size:16,"aria-hidden":"true"})})]}),e.jsxs("div",{className:"p-5 space-y-4",children:[n.map(l=>e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold uppercase tracking-wider mb-2",style:{color:"var(--color-text-tertiary)"},children:l.title}),e.jsx("div",{className:"rounded-xl overflow-hidden",style:{border:"1px solid var(--color-border)"},children:l.items.map((c,x)=>e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 text-sm",style:{borderBottom:x<l.items.length-1?"1px solid var(--color-border)":"none",color:"var(--color-text-secondary)",background:x%2===0?"transparent":"var(--color-surface-alt)"},children:[e.jsx(f,{size:13,style:{color:"var(--color-confirmado)",flexShrink:0},"aria-hidden":"true"}),c]},x))})]},l.title)),a.integrityHash&&e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl",style:{background:"rgba(29,78,216,0.06)",border:"1px solid rgba(29,78,216,0.15)"},children:[e.jsx(L,{size:14,style:{color:"var(--color-primary)",flexShrink:0},"aria-hidden":"true"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs font-semibold",style:{color:"var(--color-primary)"},children:"Hash SHA-256 de Integridade"}),e.jsx(g,{hash:a.integrityHash})]})]}),e.jsx(q,{onSuccess:i}),e.jsxs("div",{className:"flex gap-3 pt-1",children:[e.jsx("button",{onClick:t,className:"btn-secondary flex-1 text-sm",children:"Fechar"}),a.status==="READY"&&e.jsxs("button",{onClick:d,className:"btn-gradient flex items-center justify-center gap-1.5 flex-1 text-sm",children:[e.jsx(C,{size:14,"aria-hidden":"true"})," Baixar PDF"]})]})]})]})})}const R={UNIFIED_TIMELINE:"üìã Timeline Unificada",FINANCIAL:"üí∞ Financeiro",INCIDENTS:"‚ö†Ô∏è Ocorr√™ncias",CALENDAR:"üìÖ Calend√°rio",FULL:"üìÅ Relat√≥rio Completo"},F={CALENDAR:{bg:"rgba(29,78,216,0.08)",text:"#1D4ED8",icon:"üìÖ"},CHAT:{bg:"rgba(37,99,235,0.08)",text:"#2563EB",icon:"üí¨"},FINANCIAL:{bg:"rgba(22,163,74,0.08)",text:"#16A34A",icon:"üí∞"},INCIDENT:{bg:"rgba(220,38,38,0.08)",text:"#DC2626",icon:"‚ö†Ô∏è"},AUTH:{bg:"rgba(124,58,237,0.08)",text:"#7C3AED",icon:"üîê"}};function se(){const[a,t]=o.useState("reports"),[d,i]=o.useState(!1),[n,l]=o.useState(!1),[c,x]=o.useState("ALL"),[w,T]=o.useState(!1),[A,k]=o.useState(null),{toast:m}=M(),E=p.filter(s=>c==="ALL"||s.childId===c).filter(s=>!w||s.isLegallyRelevant).sort((s,r)=>new Date(r.timestamp).getTime()-new Date(s.timestamp).getTime());return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-5",children:[n&&e.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 rounded-xl",style:{background:"linear-gradient(135deg, rgba(220,38,38,0.08), rgba(124,58,237,0.08))",border:"1.5px solid rgba(220,38,38,0.25)"},role:"alert",children:[e.jsx(j,{size:18,style:{color:"var(--color-cancelado)",flexShrink:0},"aria-hidden":"true"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-bold",style:{color:"var(--color-cancelado)"},children:"Modo Judicial Ativado"}),e.jsx("p",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"Apenas dados com valor jur√≠dico comprovado e hash de integridade s√£o exibidos. Todos os acessos s√£o auditados."})]}),e.jsx("button",{onClick:()=>{l(!1),m("Modo judicial desativado.","info")},className:"text-xs font-bold px-2.5 py-1 rounded-lg",style:{background:"rgba(220,38,38,0.12)",color:"var(--color-cancelado)"},children:"Desativar"})]}),e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[e.jsx("div",{className:"border-b border-[#E2E8F0] flex gap-0",children:[{id:"reports",label:"Relat√≥rios PDF"},{id:"timeline",label:"Timeline Unificada"},{id:"judicial",label:"‚öñÔ∏è Modo Judicial"}].map(s=>e.jsx("button",{onClick:()=>t(s.id),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${a===s.id?"border-[#1D4ED8] text-[#1D4ED8]":"border-transparent text-[#6B7280] hover:text-[#374151]"}`,children:s.label},s.id))}),e.jsxs("div",{className:"flex items-center gap-2",children:[!n&&e.jsxs("button",{onClick:()=>{l(!0),t("judicial"),m("Modo judicial ativado. Todos os acessos ser√£o auditados.","warning")},className:"flex items-center gap-1.5 text-sm font-semibold px-3 py-1.5 rounded-xl transition-all",style:{background:"rgba(220,38,38,0.08)",color:"var(--color-cancelado)",border:"1px solid rgba(220,38,38,0.2)"},children:[e.jsx(j,{size:14,"aria-hidden":"true"}),"Modo Judicial"]}),e.jsxs("button",{onClick:()=>i(!0),className:"btn-gradient flex items-center gap-2 text-sm",children:[e.jsx(B,{size:14,"aria-hidden":"true"}),"Gerar relat√≥rio"]})]})]}),a==="reports"&&e.jsxs("div",{className:"space-y-3",children:[v.length===0&&e.jsxs("div",{className:"card p-8 text-center",children:[e.jsx(y,{size:32,className:"mx-auto text-[#CBD5E1] mb-2"}),e.jsx("p",{className:"text-sm text-[#9CA3AF]",children:"Nenhum relat√≥rio gerado ainda"})]}),v.map(s=>{const r=N.find(P=>P.id===s.childId);return e.jsx("div",{className:"card p-4 hover:shadow-hover transition-shadow",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-[rgba(29,78,216,0.08)] flex items-center justify-center flex-shrink-0",children:e.jsx(y,{size:20,className:"text-[#1D4ED8]"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-[#0F172A]",children:s.title}),e.jsxs("p",{className:"text-xs text-[#6B7280] mt-0.5",children:[R[s.type],r?` ¬∑ ${r.fullName.split(" ")[0]}`:""," ¬∑ Per√≠odo: ",s.period]})]}),e.jsx(Y,{status:s.status})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[e.jsxs("p",{className:"text-xs text-[#9CA3AF]",children:["Solicitado em ",h(b(s.requestedAt),"dd/MM/yyyy HH:mm",{locale:u})]}),s.completedAt&&e.jsxs("p",{className:"text-xs text-[#9CA3AF]",children:["Gerado em ",h(b(s.completedAt),"dd/MM/yyyy HH:mm",{locale:u})]})]}),s.integrityHash&&e.jsx("div",{className:"mt-2",children:e.jsx(g,{hash:s.integrityHash})})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsxs("button",{className:"btn-secondary flex items-center gap-1.5 text-sm py-1.5","aria-label":"Pr√©-visualizar relat√≥rio",onClick:()=>{k(s),setSignatureStep("idle"),setSignaturePin("")},children:[e.jsx(O,{size:14,"aria-hidden":"true"}),"Preview"]}),s.status==="READY"&&s.pdfUrl&&e.jsxs("button",{className:"btn-gradient flex items-center gap-1.5 text-sm py-1.5","aria-label":"Baixar relat√≥rio PDF",children:[e.jsx(C,{size:14,"aria-hidden":"true"}),"PDF"]})]})]})},s.id)})]}),a==="timeline"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsxs("select",{value:c,onChange:s=>x(s.target.value),className:"input-field w-auto py-1.5 text-sm",children:[e.jsx("option",{value:"ALL",children:"Todos os filhos"}),N.map(s=>e.jsx("option",{value:s.id,children:s.fullName.split(" ")[0]},s.id))]}),e.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:w,onChange:s=>T(s.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm font-medium",style:{color:"var(--color-text-secondary)"},children:"‚≠ê Somente relevantes"})]}),e.jsxs("p",{className:"text-sm",style:{color:"var(--color-text-tertiary)"},children:[E.length," evento(s)"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-6 top-0 bottom-0 w-px bg-[#E2E8F0]"}),e.jsx("div",{className:"space-y-4",children:E.map(s=>{const r=F[s.module];return e.jsxs("div",{className:"relative flex gap-4 pl-14",children:[e.jsx("div",{className:"absolute left-4 top-3 w-4 h-4 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:r.text}}),e.jsx("div",{className:"flex-1 card p-3 border-l-4",style:{borderLeftColor:r.text},children:e.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:r.icon}),e.jsx("p",{className:"font-semibold text-[#0F172A] text-sm",children:s.title}),s.isLegallyRelevant&&e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-[rgba(245,158,11,0.1)] text-[#F59E0B] border border-[rgba(245,158,11,0.25)]",children:"‚≠ê Relevante"})]}),e.jsx("p",{className:"text-xs text-[#374151] mt-0.5",children:s.description}),e.jsxs("p",{className:"text-xs text-[#9CA3AF] mt-1",children:[s.actor," ¬∑ ",h(b(s.timestamp),"dd/MM/yyyy '√†s' HH:mm",{locale:u})]})]}),s.hash&&e.jsx(g,{hash:s.hash})]})})]},s.id)})})]})]}),a==="judicial"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"rounded-2xl overflow-hidden",style:{background:"linear-gradient(135deg, #7c3aed, #dc2626)",boxShadow:"0 6px 24px rgba(124,58,237,0.25)"},children:e.jsxs("div",{className:"px-6 pt-5 pb-4 text-white",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center",style:{background:"rgba(255,255,255,0.2)"},"aria-hidden":"true",children:e.jsx(j,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-extrabold",children:"Pacote Judicial"}),e.jsx("p",{className:"text-sm",style:{color:"rgba(255,255,255,0.8)"},children:"Exporta√ß√£o de evid√™ncias com integridade verific√°vel"})]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{icon:"üìã",label:"Itens com hash",value:p.filter(s=>s.hash).length},{icon:"‚≠ê",label:"Juridicamente relevantes",value:p.filter(s=>s.isLegallyRelevant).length},{icon:"üîê",label:"Relat√≥rios prontos",value:v.filter(s=>s.status==="READY").length}].map(s=>e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-extrabold",children:s.value}),e.jsx("p",{className:"text-xs",style:{color:"rgba(255,255,255,0.7)"},children:s.label})]},s.label))})]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("p",{className:"text-sm font-bold uppercase tracking-widest",style:{color:"var(--color-text-tertiary)"},children:"Evid√™ncias com integridade verificada"}),e.jsxs("button",{className:"flex items-center gap-1.5 text-sm font-bold px-3 py-1.5 rounded-xl",style:{background:"rgba(124,58,237,0.08)",color:"var(--color-primary)"},onClick:()=>m("Pacote judicial exportado! Arquivo ZIP gerado com todos os hashes.","success"),children:[e.jsx(C,{size:14,"aria-hidden":"true"}),"Exportar pacote ZIP"]})]}),e.jsx("div",{className:"space-y-2",children:p.filter(s=>s.isLegallyRelevant||s.hash).map(s=>{const r=F[s.module];return e.jsxs("div",{className:"flex items-start gap-3 p-3.5 rounded-xl",style:{background:"var(--color-surface-alt)",border:"1px solid var(--color-border)",borderLeft:`4px solid ${r.text}`},children:[e.jsx("div",{className:"w-9 h-9 rounded-xl flex items-center justify-center flex-shrink-0 text-base",style:{background:r.bg},children:r.icon}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-bold",style:{color:"var(--color-text-primary)"},children:[s.title,s.isLegallyRelevant&&e.jsx("span",{className:"ml-2 text-xs px-1.5 py-0.5 rounded",style:{background:"rgba(245,158,11,0.1)",color:"#F59E0B"},children:"‚≠ê"})]}),e.jsx("p",{className:"text-xs mt-0.5",style:{color:"var(--color-text-secondary)"},children:s.description}),e.jsxs("p",{className:"text-xs mt-0.5",style:{color:"var(--color-text-tertiary)"},children:[s.actor," ¬∑ ",h(b(s.timestamp),"dd/MM/yyyy '√†s' HH:mm",{locale:u})]})]}),s.hash&&e.jsx(g,{hash:s.hash})]})})]},s.id)})})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-xl",style:{background:"rgba(124,58,237,0.06)",border:"1px solid rgba(124,58,237,0.2)"},role:"note",children:[e.jsx(H,{size:16,style:{color:"var(--color-primary)",flexShrink:0,marginTop:1},"aria-hidden":"true"}),e.jsxs("p",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:["Todos os dados exibidos neste painel possuem ",e.jsx("strong",{children:"hash SHA-256"})," de integridade imut√°vel, gerado no momento do registro. Qualquer altera√ß√£o posterior seria detectada. Os logs de acesso a este painel s√£o auditados e registrados automaticamente."]})]})]}),A&&e.jsx(J,{report:A,onClose:()=>k(null),onDownload:()=>m("Download do PDF iniciado!","success"),onSigned:()=>m("Relat√≥rio assinado digitalmente! Timestamp imut√°vel registrado.","success")}),d&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40",children:e.jsxs("div",{className:"card w-full max-w-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsx("h3",{className:"text-lg font-bold text-[#0F172A]",children:"Gerar relat√≥rio"}),e.jsx("button",{onClick:()=>i(!1),className:"p-1 rounded hover:bg-[#F1F5F9]",children:e.jsx(I,{size:18,className:"text-[#6B7280]"})})]}),e.jsxs("form",{onSubmit:s=>{s.preventDefault(),i(!1)},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-1.5",children:"Filho"}),e.jsx("select",{className:"input-field",children:N.map(s=>e.jsx("option",{value:s.id,children:s.fullName},s.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-1.5",children:"Tipo de relat√≥rio"}),e.jsx("select",{className:"input-field",children:Object.entries(R).map(([s,r])=>e.jsx("option",{value:s,children:r},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-1.5",children:"Per√≠odo"}),e.jsx("input",{type:"month",className:"input-field",required:!0})]}),e.jsx("div",{className:"p-3 rounded-md bg-[rgba(29,78,216,0.06)] border border-[rgba(29,78,216,0.15)] text-xs text-[#374151]",children:"üîí O relat√≥rio ser√° gerado com hash SHA-256 de integridade e valor jur√≠dico."}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:()=>i(!1),className:"btn-secondary flex-1",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"Gerar relat√≥rio"})]})]})]})})]})}function Y({status:a}){const t={READY:{icon:e.jsx(f,{size:13}),label:"Pronto",className:"bg-[rgba(22,163,74,0.08)] text-[#16A34A] border border-[rgba(22,163,74,0.25)]"},GENERATING:{icon:e.jsx(D,{size:13}),label:"Gerando...",className:"bg-[rgba(217,119,6,0.08)] text-[#D97706] border border-[rgba(217,119,6,0.25)]"},PENDING:{icon:e.jsx(D,{size:13}),label:"Pendente",className:"bg-[rgba(217,119,6,0.08)] text-[#D97706] border border-[rgba(217,119,6,0.25)]"},ERROR:{icon:e.jsx(U,{size:13}),label:"Erro",className:"bg-[rgba(220,38,38,0.08)] text-[#DC2626] border border-[rgba(220,38,38,0.25)]"}}[a];return e.jsxs("span",{className:`badge-status flex items-center gap-1 ${t.className}`,children:[t.icon,t.label]})}export{se as default};
