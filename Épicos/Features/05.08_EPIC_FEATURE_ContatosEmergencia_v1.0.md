# F-05.08 — Contatos de Emergência (Médico e Escola)

**Épico**: EP-05 — Saúde & Desenvolvimento Escolar  
**Agente**: @the-explorer  
**Versão**: 1.0 | **Data**: 2026-02-24

---

## 1. Descrição da Feature

Registro e compartilhamento de contatos de emergência essenciais para o filho: médico de família/pediatra, escola e contatos gerais de emergência. Disponíveis de forma destacada no app para acesso rápido, especialmente quando um responsável precisa lidar com uma situação de emergência sem ter os dados na memória.

---

## 2. Solução Proposta

Seção de contatos de emergência no perfil do filho, editável por qualquer responsável, visível por ambos e por terceiros autorizados. Cards com nome, tipo, telefone(s) e endereço (para escola). Link direto para ligação pelo telefone do dispositivo.

---

## 3. Escopo

### O que ENTRA
- Pediatra / médico de família: nome, CRM, telefone, endereço do consultório
- Escola: nome, telefone da secretaria, telefone da diretoria, endereço
- Contatos adicionais: plano de saúde (número da carteirinha + telefone), UPA/hospital de referência
- Link para ligar diretamente pelo celular
- Acesso offline (dados cacheados no device) — fase 2 (MVP pode não ter)
- Visível por terceiros autorizados com acesso ao módulo de saúde

### O que NÃO ENTRA
- Integração com SAMU / CBMSP diretamente — fase 3
- Geolocalização do hospital mais próximo — fase 2

---

## 4. Premissas

- Qualquer responsável pode adicionar/editar contatos de emergência
- Contatos são visíveis por ambos os responsáveis e por terceiros autorizados para saúde
- Um filho pode ter no máximo 10 contatos de emergência no MVP

---

## 5. User Stories

| US | Tipo | Descrição | Esforço |
|----|------|-----------|---------|
| US-05.08.01 | Frontend | Como responsável, quero cadastrar o pediatra com nome, CRM e telefone | 2 |
| US-05.08.02 | Frontend | Como responsável, quero cadastrar a escola com telefone e endereço | 2 |
| US-05.08.03 | Frontend | Como responsável, quero tocar no telefone de um contato para ligar diretamente | 1 |
| US-05.08.04 | Frontend | Como responsável, quero ver contatos de emergência em destaque no perfil do filho | 1 |
| US-05.08.05 | Backend | Endpoint POST /emergency-contacts/:childId — cria contato | 2 |
| US-05.08.06 | Backend | Endpoint GET /emergency-contacts/:childId — lista contatos | 1 |
| US-05.08.07 | Backend | Endpoint PUT /emergency-contacts/:contactId — atualiza contato | 1 |

**Esforço Total**: 10 pontos

---

## 6. Critérios de Aceitação

- [ ] Toque no telefone abre o discador do device
- [ ] Contatos visíveis por terceiro autorizado com permissão de saúde
- [ ] Alteração de contato reflete para ambos os responsáveis em < 2 segundos

---

## 7. Complexidade Técnica

**Nível**: Baixa | **Pontos**: 10
