# F-01.02 — Cadastro e Perfil dos Filhos

**Épico**: EP-01 — Identidade & Acesso  
**Agente**: @the-explorer  
**Versão**: 1.0 | **Data**: 2026-02-24

---

## 1. Descrição da Feature

Criação e gestão do perfil de cada filho vinculado aos responsáveis. O responsável cadastra dados básicos da criança (nome, data de nascimento, escola, foto), que ficam acessíveis a ambos os guardiões. O perfil do filho é o eixo central do sistema — todos os módulos giram em torno de uma criança.

---

## 2. Solução Proposta

Formulário de cadastro de filho com dados pessoais e escolares, ativado logo após o cadastro do primeiro responsável (onboarding flow). O perfil fica disponível para edição, mas dados históricos (ex: idade na época de um registro) nunca são alterados retroativamente.

---

## 3. Escopo

### O que ENTRA
- Nome completo, data de nascimento, foto (opcional)
- Nome da escola e série/ano atual
- Tipo sanguíneo e alergias conhecidas (campo de texto livre)
- Responsável principal (quem cadastrou = Responsável 1)
- Visualização por ambos os responsáveis após vínculo
- Edição de dados cadastrais por qualquer responsável

### O que NÃO ENTRA
- Prontuário médico completo — EP-05
- Histórico escolar detalhado — EP-05
- Múltiplos perfis por conta no MVP (apenas 1 filho por família no beta)

---

## 4. Premissas

- Cada filho tem um `child_id` único gerado pelo sistema
- O cadastro do filho só pode ocorrer após o responsável ter verificado o email
- Tipo sanguíneo e alergias são campos opcionais mas incentivados
- Foto do filho é armazenada em S3 com URL privada

---

## 5. User Stories

| US | Tipo | Descrição | Esforço |
|----|------|-----------|---------|
| US-01.02.01 | Frontend | Como responsável, quero cadastrar o filho com nome, data de nascimento e foto | 3 |
| US-01.02.02 | Frontend | Como responsável, quero informar escola, série e alergias do filho | 2 |
| US-01.02.03 | Frontend | Como responsável, quero editar os dados cadastrais do filho a qualquer momento | 2 |
| US-01.02.04 | Frontend | Como responsável, quero ver o perfil completo do filho com todos os dados | 2 |
| US-01.02.05 | Backend | Endpoint POST /children — cria filho vinculado ao responsável autenticado | 3 |
| US-01.02.06 | Backend | Endpoint GET /children/:id — retorna perfil completo | 2 |
| US-01.02.07 | Backend | Endpoint PUT /children/:id — atualiza dados cadastrais | 2 |
| US-01.02.08 | Backend | Upload de foto para S3, URL privada com presigned URL | 2 |

**Esforço Total**: 18 pontos

---

## 6. Critérios de Aceitação

- [ ] Filho cadastrado aparece no dashboard de ambos os responsáveis após vínculo
- [ ] Foto carregada em < 5 segundos
- [ ] Campos obrigatórios: nome e data de nascimento
- [ ] Edição reflete imediatamente para ambos os responsáveis

---

## 7. Complexidade Técnica

**Nível**: Baixa | **Pontos**: 18
