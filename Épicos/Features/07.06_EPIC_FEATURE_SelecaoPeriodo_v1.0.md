# F-07.06 — Seleção de Período para o Relatório

**Épico**: EP-07 — Relatórios & Exportação Jurídica  
**Agente**: @the-explorer  
**Versão**: 1.0 | **Data**: 2026-02-24

---

## 1. Descrição da Feature

Interface de seleção de período para todos os tipos de relatório do Guarda360°. Permite definir datas de início e fim com atalhos para períodos comuns (último mês, último trimestre, último semestre, último ano, período personalizado). Valida se o período tem dados suficientes antes de enfileirar a geração.

---

## 2. Solução Proposta

Componente de date range picker integrado ao formulário de geração de relatório. Atalhos rápidos no topo. Ao selecionar o período, a UI mostra um preview com o número de registros disponíveis em cada módulo para o período escolhido, antes de confirmar a geração.

---

## 3. Escopo

### O que ENTRA
- Date range picker com calendário (data início + data fim)
- Atalhos: Último mês / Último trimestre / Último semestre / Último ano / Personalizado
- Preview do número de registros por módulo no período
- Validação: período máximo de 24 meses no MVP
- Alerta quando o período tem poucos dados (< 5 registros em algum módulo selecionado)

### O que NÃO ENTRA
- Seleção de múltiplos períodos não contíguos — fase 2
- Período relativo a eventos (ex: "desde a última sentença") — fase Judicial

---

## 4. Premissas

- A data fim não pode ser futura (relatório é histórico)
- A data início não pode ser anterior à criação da conta
- O período mínimo é de 1 dia (mas relatórios com menos de 7 dias têm aviso de utilidade limitada)

---

## 5. User Stories

| US | Tipo | Descrição | Esforço |
|----|------|-----------|---------|
| US-07.06.01 | Frontend | Como responsável, quero selecionar o período com date range picker e atalhos | 3 |
| US-07.06.02 | Frontend | Como responsável, quero ver quantos registros existem por módulo no período antes de gerar | 2 |
| US-07.06.03 | Backend | Endpoint GET /reports/preview?childId=&from=&to=&modules= — contagem de registros | 3 |
| US-07.06.04 | Backend | Validação: período máximo 24 meses; data fim não futura | 1 |

**Esforço Total**: 9 pontos

---

## 6. Critérios de Aceitação

- [ ] Preview de contagem de registros carrega em < 1 segundo
- [ ] Período superior a 24 meses é rejeitado com mensagem clara
- [ ] Atalhos de período calculam as datas corretamente (ex: "último mês" = mês calendário anterior completo)

---

## 7. Complexidade Técnica

**Nível**: Baixa | **Pontos**: 9
