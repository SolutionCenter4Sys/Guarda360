# F-02.04 — Gestão de Feriados, Férias e Datas Especiais

**Épico**: EP-02 — Guarda & Convivência  
**Agente**: @the-explorer  
**Versão**: 1.0 | **Data**: 2026-02-24

---

## 1. Descrição da Feature

Gestão de períodos especiais no calendário de convivência: feriados nacionais (pré-carregados), férias escolares (configuração semestral/anual com divisão entre os responsáveis) e datas especiais como aniversários, Dia das Mães e Dia dos Pais.

---

## 2. Solução Proposta

- Feriados nacionais brasileiros são pré-carregados no banco e exibidos automaticamente
- Férias escolares: responsáveis definem o período e a divisão (ex: primeira quinzena para Pai, segunda para Mãe)
- Datas especiais: cada responsável pode adicionar datas recorrentes ou pontuais
- Conflitos de período (férias sobre visita regular) são sinalizados com alerta

---

## 3. Escopo

### O que ENTRA
- Feriados nacionais brasileiros (hardcoded no MVP para 2026-2027)
- Configuração de férias escolares (janeiro, julho) com divisão de período
- Datas especiais: aniversário do filho, aniversários dos pais, Dia das Mães/Pais, Natal, etc.
- Destaque visual no calendário para cada tipo
- Alerta de conflito entre férias e visita regular agendada

### O que NÃO ENTRA
- Feriados estaduais/municipais — fase 2
- Integração API de feriados dinâmica — fase 2
- Férias escolares por escola específica — fase 2

---

## 4. Premissas

- Feriados nacionais não podem ser removidos pelos usuários (são dados do sistema)
- A divisão de férias escolares exige confirmação de ambos os responsáveis
- Datas especiais criadas por um responsável são visíveis para ambos

---

## 5. User Stories

| US | Tipo | Descrição | Esforço |
|----|------|-----------|---------|
| US-02.04.01 | Frontend | Como responsável, quero ver feriados nacionais marcados no calendário automaticamente | 1 |
| US-02.04.02 | Frontend | Como responsável, quero configurar o período de férias escolares e a divisão entre os pais | 3 |
| US-02.04.03 | Frontend | Como responsável, quero adicionar uma data especial (aniversário, etc.) ao calendário | 2 |
| US-02.04.04 | Frontend | Como responsável, quero ver um alerta quando as férias conflitam com uma visita programada | 2 |
| US-02.04.05 | Backend | Seed de feriados nacionais 2026-2027 no banco de dados | 2 |
| US-02.04.06 | Backend | Endpoint POST /special-dates — cria data especial ou período de férias | 2 |
| US-02.04.07 | Backend | Lógica de detecção de conflito de período | 3 |

**Esforço Total**: 15 pontos

---

## 6. Critérios de Aceitação

- [ ] Todos os feriados nacionais de 2026 aparecem no calendário sem configuração adicional
- [ ] Divisão de férias exige confirmação dos dois responsáveis
- [ ] Alerta de conflito aparece antes de finalizar a configuração de férias

---

## 7. Complexidade Técnica

**Nível**: Baixa-Média | **Pontos**: 15
